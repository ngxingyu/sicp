[{"id":"/sicpjs/4.3.3","tag":"TITLE","body":"4.3.3  \n    Implementing the\n    \n      \n      amb\n    \n    Evaluator"},{"tag":"TEXT","id":"#p1","child":[{"body":"\n    The evaluation of an ordinary\n    JavaScript program\n    may return a value, may never terminate, or may signal an error.\n    In nondeterministic\n    JavaScript\n    the evaluation of\n    a program\n    may in addition result in the discovery of\n    a dead end, in which case evaluation must backtrack to a previous choice\n    point.  The interpretation of nondeterministic\n    JavaScript\n    is complicated by this extra case.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p2","child":[{"body":"\n    We will construct the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator for\n    nondeterministic\n    JavaScript\n    by modifying the\n    \n    analyzing evaluator of\n    section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":".","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-1","body":"1","href":"/sicpjs/4.3.3#footnote-1"},{"body":" As in the analyzing evaluator, evaluation of\n    a component\n    is accomplished by calling an \n    \n    execution\n    function\n    produced by analysis of that\n    component.\n    The difference between the interpretation of ordinary\n    JavaScript\n    and the interpretation of nondeterministic\n    JavaScript\n    will be entirely\n    in the execution\n    functions.","tag":"#text"}]},{"tag":"SUBHEADING","id":"#h1","child":[{"body":"\n      Execution\n      functions\n      and continuations\n    ","tag":"#text"}]},{"tag":"TEXT","id":"#p3","child":[{"body":"\n    Recall that the\n    \n    execution\n    functions\n    for the ordinary evaluator take one argument: the environment of execution.\n    In contrast, the execution\n    functions\n    in the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator take three arguments:\n    the environment, and two\n    functions\n    called\n    ","tag":"#text"},{"tag":"EM","child":[{"body":"continuation functions","tag":"#text"}]},{"body":".\n    The evaluation of\n    a component\n    will finish by calling one of these two\n    continuations: If the evaluation results in a value, the \n    ","tag":"#text"},{"tag":"EM","child":[{"body":"success continuation","tag":"#text"}]},{"body":" is called with that value; if the evaluation\n    results in the discovery of a dead end, the \n    ","tag":"#text"},{"tag":"EM","child":[{"body":"failure continuation","tag":"#text"}]},{"body":" is called.  Constructing and calling\n    appropriate continuations is the mechanism by which the nondeterministic\n    evaluator implements backtracking.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p4","child":[{"body":"\n    It is the job of the success continuation to receive a value and proceed\n    with the computation.  Along with that value, the success continuation is\n    passed another failure continuation, which is to be called subsequently if\n    the use of that value leads to a dead end.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p5","child":[{"body":"\n    It is the job of the failure continuation to try another branch of the\n    nondeterministic process.  The essence of the nondeterministic\n    language is in the fact that\n    components\n    may represent choices among\n    alternatives.  The evaluation of such\n    a component\n    must proceed with\n    one of the indicated alternative choices, even though it is not known\n    in advance which choices will lead to acceptable results.  To deal\n    with this, the evaluator picks one of the alternatives and passes this\n    value to the success continuation.  Together with this value, the\n    evaluator constructs and passes along a failure continuation that can\n    be called later to choose a different alternative.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p6","child":[{"body":"\n    A failure is triggered during evaluation (that is, a failure\n    continuation is called) when a user program explicitly rejects the\n    current line of attack (for example, a call to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"require"},{"body":" may result in execution of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb()"},{"body":",\n    an expression that always\n    fails—see section ","tag":"#text"},{"tag":"REF","body":"4.3.1","href":"/sicpjs/4.3.1"},{"body":").  The failure\n    continuation in hand at that point will cause the most recent choice point\n    to choose another alternative.  If there are no more alternatives to be\n    considered at that choice point, a failure at an earlier choice point\n    is triggered, and so on.  Failure continuations are also invoked by\n    the driver loop in response to a\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    request, to find another value of the\n    program.","tag":"#text"}]},{"tag":"TEXT","id":"#p7","child":[{"body":"\n    In addition, if a side-effect operation (such as assignment to a\n    variable) occurs on a branch of the process resulting from a choice,\n    it may be necessary, when the process finds a dead end, to undo the\n    side effect before making a new choice.  This is accomplished by\n    having the side-effect operation produce a failure continuation that\n    undoes the side effect and propagates the failure.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p8","child":[{"body":"\n    In summary, failure continuations are constructed by\n    ","tag":"#text"},{"tag":"UL","child":[{"tag":"LI","child":[{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" expressions—to provide a\n\tmechanism to make alternative choices if the current choice made by the\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" expression leads to a dead end;\n      ","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n\tthe top-level driver—to provide a mechanism to report failure\n\twhen the choices are exhausted;\n      ","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n\tassignments—to intercept failures and undo assignments\n\tduring backtracking.\n      ","tag":"#text"}]}]}]},{"tag":"TEXT","id":"#p9","child":[{"body":"\n    Failures are initiated only when a dead end is encountered. This occurs\n    ","tag":"#text"},{"tag":"UL","child":[{"tag":"LI","child":[{"body":"\n\tif the user program executes\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb()"},{"body":";","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n\tif the user types\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n\tat the top-level driver.\n      ","tag":"#text"}]}]}]},{"tag":"TEXT","id":"#p10","child":[{"body":"\n    Failure continuations are also called during processing of a failure:\n    ","tag":"#text"},{"tag":"UL","child":[{"tag":"LI","child":[{"body":"When the failure continuation created by an assignment finishes\n      undoing a side effect, it calls the failure continuation it intercepted,\n      in order to propagate the failure back to the choice point that\n      led to this assignment or to the top level.\n\n      ","tag":"#text"}]},{"tag":"LI","child":[{"body":"When the failure continuation for an ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":"\n      runs out of choices, it calls the failure continuation that was originally\n      given to the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":", in order to propagate the\n      failure back to the previous choice point or to the top level.\n      ","tag":"#text"}]}]}]},{"tag":"SUBHEADING","id":"#h2","child":[{"body":"Structure of the evaluator","tag":"#text"}]},{"tag":"TEXT","id":"#p11","child":[{"body":"\n    The syntax- and data-representation\n    functions\n    for the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator, and also the basic\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze"},{"body":"function,\n    are identical to those in the evaluator of\n    section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":", except for the fact\n    that we need additional syntax\n    functions\n    to recognize\n    \n\tthe ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" syntactic form:\n      ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":1,"eval":true,"prependLength":186,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01yr0bLaQzkEIfhpWvdWHtZmjFVa6pSkRohsoqDTCFZltLW1AFEVpwcYpoRrcGyFVj7UksyCW7kowKnOXRpYGgQKRKTLeQmhFnY5hAA","body":"function is_amb(component) {      \n    return is_tagged_list(component, \"application\") && \n           is_name(function_expression(component)) && \n           symbol_of_name(function_expression(component)) === \"amb\";\n}\nfunction amb_choices(component) {\n    return arg_expressions(component);\n} "},{"body":"\n\tWe continue to use the parse function of\n\tsection ","tag":"#text"},{"tag":"REF","body":"4.1.2","href":"/sicpjs/4.1.2"},{"body":", which\n\tdoesn't support ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" as a syntactic\n\tform and instead treats ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb(...)"},{"body":" as\n\ta function application. The function\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"is_amb"},{"body":" ensures that\n\twhenever the name\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" appears as the function\n\texpression of an application, the evaluator treats the\n\t\"application\" as\n\ta nondeterministic choice point.","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-2","body":"2","href":"/sicpjs/4.3.3#footnote-2"}]},{"tag":"TEXT","id":"#p12","child":[{"body":"\n    We must also add to the dispatch in ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze"},{"body":" a\n    clause that will recognize\n    such expressions and generate an appropriate execution\n      function:","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":2,"eval":true,"prependLength":678,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABJ93oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWIx3aumtUG0An3F0Mvn2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTquWsnTmoGoWtFSWs6u0ES10IGmGxMItzvSOrBROr5DOqLAur+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjzBqms6v6r5EFJf1kEmv2vwDhq0lAFEwsSIDBkIDcX5rqE0Es1AAABIAAdaoCsCgRWxwWQAoKW-a7QEyJTKG9QQGGGisuWd0aXbYTW4iFcy1H-Dqma+IE26TVmwGfa1wJVLkSa3m2arGwGDGzmLNbMbwSvAWnBYWggUW7OPBWHaWuW7rJWlWtWs3LGqPNwUfHfQ2DfFDJgsCtoDzUgUmo-KhUo+oIBfw03MVTlevfwn3JVFOo+FIKmpC1OqVBvdOzMAukQT+BShmdMZurOoQ1wRO-mz6lu6LB0368qiUcBeOhmio43FuhwZ7W9QU4sgslQM7a-TMae8PDwruwavGkanmW67UVRAld3UlXeufHLd61oAlNYb60lYe7YE+o2m6+K91cetRF2y2t2+a54jHK+0gWqqSoXZfbW3W549XS1WfTgo2zA34FfEGis1vd++IBe0su2l+sVAoT28mOOnGwC7elVUg4ysavum8o+kgwMSLTg8+twS+6+6FXBjW-Bz5dSENJ+6NWB1+pm12yGuOvW4OH+iyMG-+6BoBgkjdUVfAT43gT4h21wAlXkNQMsaLNaiXTa6TWXaR7i-VFg1s8BlRmXRfIRrRuBlMThgBjBjRkywU0RtwcRgQKRjRi1HRnLSBvPdR+x0VORo28wVxtx4OQxnxoWT6d2kyth-x1oAoVB0VdBqSrB6fcaW+i8mOdOaRO65yi+z6-QGh2+njRJi6qQTOf1QeVhj6m8sgTJuhzuJJi8qu+uYG4p-oaFMpkq8q7JtOXJnuGoSxAea2Nhz6N+iG1m1q0VDJ3+gRqHHmy2m0Ih6gAO4GUWpQOEUCSWoLBM1QApiKsVfAVGQlLkS4XwWW+WxWigRwTOGWsgSwEcAAAyNtVv-szk8eEZ4ctWnF3UsByjud0wds5VKZGd-XBpZuEYdqVVkBED6f+fdrbusekJ9o8CmcFsDrmYWemfkCyEr3yYeSUDmhaWiZauwcVC11VGrVFjBiTTxSyWRGqYXk7Ge1kAao+VwRzg1tuTorMeDjzpZaFgdLb04gJaxmJmJfZdhopoXgVmURSBJefrNo-CVX7D5dSXdWe2FHvomUlm7TztxehjQkcXwZWqRz0xTE5ff2eNGE+K1bIdUG+IlHANxficUUIYJRamiyERETEWpTSZvLMxDqeq5cAhoEJZPtClGjYYJVNajFUCeo1fVBDftBWo9YOyDc+q5Eacuu0EDZctBatoGcec5kTZGYVroqMuVljdy1ACjdLOGkOqks4a8ahxidczidwZ+jxBFd1hqfdQnAJSYCTb+u0HlmYe6bTY4YQczbOIx07Z+bWAFaOKEfBazf1RMc40Nu41+F72zA9uxdOtiYVGUDkjeVCmBazrlz+Yze1qvkWhTUnvqH3YYEld92Zqtu0DZZPe7UzCvc-j-o0fGemsmf9qFtmayKsEkHDoOajpEBufMbeRQdndbO3e7jjVCnTFfYhYrNGdCaPE-YXm-a0zhb-e8bBXwGnW8FtAHjFrwQsE+32cjqOe3dOfOaYCud3bA9Q9aA1rg9ZoRig9Q5Mc2xY-kGIs-knf8axoRgE5rdXaQ4Zlrdq0rEHGrRVT9W8rDL46PY-uhv42PzybYu0NAp0mexMaAo07vPYt0NRt3fE4phau7QA1CGfR9LrBcPWY-BLoIyvTDLsGwotVoqAyorfkmiQzKyItw+Dl3ZE8tSeV0oY30KQ5TavR+navUBGBna-rNxMYNqbe4xali9wR1EC-Nw0wvO02i+yky-i5vYrKVSQaapy-BcnbjsJ1e2J1RtGFIDeBIBoHJ3wz2iQSMUINHRk+qGdV5SGTraKoba8txTbfuv7q7eaditNhYd2BfoJVfcHtDNvuIsfvFaKbJcZt+bvZU7ZpHeOpBZQ4tUU4ecO7Nxg93Y1pburZ8ZO-sZ4+GiE8GdCek7IFk4G-9Ts7Apy+4uC4c6Y9hqHb+9XJe5C85mq-XextaWG-OqaZVW5FOgJW+YYBW6ijW+hW5HSsyow-7e2-Tf25EZ9wgkrWQWSAVt0Ayqyuzqh0Nzzqp9x5ElK4v21pMsC6VRPOp4w7c4e6B6PCrdB9FQsYu-5-briQp50Cwm5+Z+7rBV7uDkcwl+610GnpCY-AKGtfKdJfPekG6uSf3upYbf16peDmlewU1VZQ7VoYR92vlbN4cqR6t6Fk5Xiccud85nN6+4U494Zld9G-k-G5kUs+kG1SZSD92CN4R61XJXD5gkxTG7lejRD4Sdaedl9-Jn99t4qYutN6Fi94Bp6mCqsTzij8uuZmur7Yz6lc-ApcKcj+t-ibr+iiFZPlITPmthT9tdL8b4be7-t-z8-G1nb7fmr9vfieH9FdbeD4d4qEphJlmixd7+j+RhkDRj4uxhVdn+kBPrz85iz-L937H6DwcoYdH575d5t-L9n2VmP9fxezey6Wa9a-a8VHZCcIuOINvqTnsucnmfT81iDt+mJ7NDEeBcpZNZohPLhji03ZIwjU9AXkNWjrAWJ9A1aKCn-1+BnoRws8CEBujRwSASAqAqLCjkPQzAROKeLSiNhVDedyQ6tIRpL27jxcOmoEAeASWgbq0CSFXMstazwSxhEBDIUKCgLQETh7wUWBAX8AEHRY1Wc0MmtPF4w+BVgKdIQSMCOBBJ6aEgAgPHmUGJVVBTRdQdt10HBN6YVBJQBXloLbcMBzsPyDgNGB4DGc2gkgQUDIGuMKBZmKgQWxSAQ9XA+ASweoDvY2hXGpjFSN1kYG9wWBLWSxjl3EFICCY0WbjkI2iECCImrZVWPINyYp1Rgug5SAwPaYKCLCyQi1FE1XI+DuQ--PwVjV9qBDOBCFEsqoHUYFDe6vdCxGEJVAp0fcyg9liLw2KgNRULRYcDlFGD4BmhzAvwd0QKGUEX6n0DwAPClRsh+BCKbsDXhoR5NsBNQaLKDjF5goZa9lDwLXCCDbB9Ap7TYZzG2Hbdt0+gc3I5QcBKoAA5OAFAj0BFkqgNoHsI8A3CcMq5bYVQWOGhNthLEBOFyBqDaAoQrAcwOuh+FHhThuvI3PUDbQQiGYUIxzjFlI7wixUiIo8NKyVgf5MwcI1EeiKRGPFURoqfERiJeAAigRII9eh2DrQHp+eXwokfY22GiCS2hA1YSoCkGxYGRH4P4YbGsE2BycbieIAKKYBhwjhQPdEbsKID7DtA26C9toFIB8iyytIukXYleHbBZRJ+Y3OiFKHBBMwCotkRATbDCjRRXYD4W4HRE15fWQGY0dFj1GsjZh3A1DuiP1EOjos6YF0bPEdE-CJRD6cEJmGNHehe8VotQMaOVGtl6RXIz4amXSYeBDAtoSQdmR0A3DhI+gG4eYBuFB0mAaY0ADcNRjZicxFibMTcK5Dsgix5OKoJYBuEHoeRe0PkRpyUBxi0+KofQJYFqA4CxRGjH0c2GFDJjYxBBFsW2KUD5jjhJIoWHWONGsUGxduJIcqUZGB46xrXUgHk1bGjYTKYYnxhGMjHhjoxN5RcWj0THaAbhe4osf0CIADgTARY6sGqC0huIixDyO8cOBtBViPh2wy+jUFGKKNzwNwmYVyBPFeAHYIkIsfeEoC+16ARYs4CTRPH3gGxYE6sULwhGvjPqI4agEOBEifjwQNw5CUCnvBFigsRY2QM+O4o1jxodY20IkHvAogrRy4wcRYysb+MuxJyDCWRIcIEE9x-YlcbPGHH0T5xqwqQBOKwmoT+OTHUcZzHHGCiH2Vo1umaKdGFAtxA5YiQqAXFUSBxq4jseKNkHyJGigIjSD1gklLiVJs8NSfJPpifRHKe46iaNlnFi8RJwcV4OyG0mecuqX4tiQZKHFWS0R8E1wOZNcnuSzcNk7inWJTHTiu4rktcUxFaDojvhck-VAxIihaSSIuk0iXhRsDeSOJ2wcKRak3HRTLUCk54KRJSBoJaJRI2KWlC-GzxeMRNLid6J4mzDKJ+ktKSZV8luN-JH4OsT+Isntj1xzU2SdlKhy5TxAbU98R1PSmgCRxGk8aHZIcl5tVk7U1yUZO3E50QQjlWaWlKakySzck0hKSxR7E-j2Jg4qqcSM8lqQhpPkoiUdMCmxjgplTUKV2DDGRTMWvU80S5U2k6SWKYkkUT8HfFSS5xUUx6R5Igh1jlBwIwgcILombDnR9oz0dFmUHSSuRFoz6uVKiykp8pFUyll1O4l6g1RwIzUfUA9GqAMp4MlyojNhnRSspf0sFClVwC4BxafAiQflWIC8C+RWRdHBsPJlbDsAgMkGToB7F4T0xV4ggDeKzHpjgJxwQCWtPZmWpcxNAXCdYD-FniUgZYisTLLck5j7xBMsYLMCAA","body":"...\n: is_amb(component)\n? analyze_amb(component)\n: is_application(component)\n... "}]},{"tag":"TEXT","id":"#p13","child":[{"body":"\n    The top-level\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":" (similar to the version of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"evaluate"},{"body":"\n    given in section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":") analyzes the\n    given\n    component\n    and applies the resulting execution\n    function\n    to the given environment, together with two given continuations:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":3,"eval":true,"prependLength":674,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABJ93oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWIx3aumtUG0An3F0Mvn2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTquWsnTmoGoWtFSWs6u0ES10IGmGxMItzvSOrBROr5DOqLAur+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjzBqms6v6r5EFJf1kEmv2vwDhq0lAFEwsSIDBkIDcX5rqE0Es1AAABIAAdaoCsCgRWxwWQAoKW-a7QEyJTKG9QQGGGisuWd0aXbYTW4iFcy1H-Dqma+IE26TVmwGfa1wJVLkSa3m2arGwGDGzmLNbMbwSvAWnBYWggUW7OPBWHaWuW7rJWlWtWs3LGqPNwUfHfQ2DfFDJgsCtoDzUgUmo-KhUo+oIBfw03MVTlevfwn3JVFOo+FIKmpC1OqVBvdOzMAukQT+BShmdMZurOoQ1wRO-mz6lu6LB0368qiUcBeOhmio43FuhwZ7W9QU4sgslQM7a-TMae8PDwruwavGkanmW67UVRAld3UlXeufHLd61oAlNYb60lYe7YE+o2m6+K91cetRF2y2t2+a54jHK+0gWqqSoXZfbW3W549XS1WfTgo2zA34FfEGis1vd++IBe0su2l+sVAoT28mOOnGwC7elVUg4ysavum8o+kgwMSLTg8+twS+6+6FXBjW-Bz5dSENJ+6NWB1+pm12yGuOvW4OH+iyMG-+6BoBgkjdUVfAT43gT4h21wAlXkNQMsaLNaiXTa6TWXaR7i-VFg1s8BlRmXRfIRrRuBlMThgBjBjRkywU0RtwcRgQKRjRi1HRnLSBvPdR+x0VORo28wVxtx4OQxnxoWT6d2kyth-x1oAoVB0VdBqSrB6fcaW+i8mOdOaRO65yi+z6-QGh2+njRJi6qQTOf1QeVhj6m8sgTJuhzuJJi8qu+uYG4p-oaFMpkq8q7JtOXJnuGoSxAea2Nhz6N+iG1m1q0VDJ3+gRqHHmy2m0Ih6gAO4GUWpQOEUCSWoLBM1QApiKsVfAVGQlLkS4XwWW+WxWigRwTOGWsgSwEcAAAyNtVv-szk8eEZ4ctWnF3UsByjud0wds5VKZGd-XBpZuEYdqVVkBED6f+fdrbusekJ9o8CmcFsDrmYWemfkCyEr3yYeSUDmhaWiZauwcVC11VGrVFjBiTTxSyWRGqYXk7Ge1kAao+VwRzg1tuTorMeDjzpZaFgdLb04gJaxmJmJfZdhopoXgVmURSBJefrNo-CVX7D5dSXdWe2FHvomUlm7TztxehjQkcXwZWqRz0xTE5ff2eNGE+K1bIdUG+IlHANxficUUIYJRamiyERETEWpTSZvLMxDqeq5cAhoEJZPtClGjYYJVNajFUCeo1fVBDftBWo9YOyDc+q5Eacuu0EDZctBatoGcec5kTZGYVroqMuVljdy1ACjdLOGkOqks4a8ahxidczidwZ+jxBFd1hqfdQnAJSYCTb+u0HlmYe6bTY4YQczbOIx07Z+bWAFaOKEfBazf1RMc40Nu41+F72zA9uxdOtiYVGUDkjeVCmBazrlz+Yze1qvkWhTUnvqH3YYEld92Zqtu0DZZPe7UzCvc-j-o0fGemsmf9qFtmayKsEkHDoOajpEBufMbeRQdndbO3e7jjVCnTFfYhYrNGdCaPE-YXm-a0zhb-e8bBXwGnW8FtAHjFrwQsE+32cjqOe3dOfOaYCud3bA9Q9aA1rg9ZoRig9Q5Mc2xY-kGIs-knf8axoRgE5rdXaQ4Zlrdq0rEHGrRVT9W8rDL46PY-uhv42PzybYu0NAp0mexMaAo07vPYt0NRt3fE4phau7QA1CGfR9LrBcPWY-BLoIyvTDLsGwotVoqAyorfkmiQzKyItw+Dl3ZE8tSeV0oY30KQ5TavR+navUBGBna-rNxMYNqbe4xali9wR1EC-Nw0wvO02i+yky-i5vYrKVSQaapy-BcnbjsJ1e2J1RtGFIDeBIBoHJ3wz2iQSMUINHRk+qGdV5SGTraKoba8txTbfuv7q7eaditNhYd2BfoJVfcHtDNvuIsfvFaKbJcZt+bvZU7ZpHeOpBZQ4tUU4ecO7Nxg93Y1pburZ8ZO-sZ4+GiE8GdCek7IFk4G-9Ts7Apy+4uC4c6Y9hqHb+9XJe5C85mq-XextaWG-OqaZVW5FOgJW+YYBW6ijW+hW5HSsyow-7e2-Tf25EZ9wgkrWQWSAVt0Ayqyuzqh0Nzzqp9x5ElK4v21pMsC6VRPOp4w7c4e6B6PCrdB9FQsYu-5-briQp50Cwm5+Z+7rBV7uDkcwl+610GnpCY-AKGtfKdJfPekG6uSf3upYbf16peDmlewU1VZQ7VoYR92vlbN4cqR6t6Fk5Xiccud85nN6+4U494Zld9G-k-G5kUs+kG1SZSD92CN4R61XJXD5gkxTG7lejRD4Sdaedl9-Jn99t4qYutN6Fi94Bp6mCqsTzij8uuZmur7Yz6lc-ApcKcj+t-ibr+iiFZPlITPmthT9tdL8b4be7-t-z8-G1nb7fmr9vfieH9FdbeD4d4qEphJlmixd7+j+RhkDRj4uxhVdn+kBPrz85iz-L937H6DwcoYdH575d5t-L9n2VmP9fxezey6Wa9a-a8VHZCcIuOINvqTnstLvoF5GrR1gLE+gatFBWcjzNnYfkWeBCA3Ro4JAJAEAVFhRyHoZgInFPFpRGwqhvO5IdWkI0l7dx4uHTUCAPAJLQN1aBJCrmWWtZ4JYwAAhkKFGAGgCJw94KLP-z+D0DosarOaGTWni8YfAqwFOowJGBHAgk9NCQAQHjxCDEqIgpomIO24yDgm9MKgkoAry0Ftu4A34GehHDQDRgsAxnFIOQEFBUBrjdAWZkwEFsUgEPVwPgA0F1A72NoVxqYxUjdYCBvcYgS1ksY5c2BgAgmNFm45CNvB9AiJq2VVh8DcmKdUYDIOUj4D2m-AiwsEItRRNVyNg7kBAPUDa1fajgigQhRLKqB1GCQ3ur3QsRuCVQKdH3EIPZYi8NioDUVC0WHA5RRg+AYoUQPSHdEEhlBF+p9A8ADwpUbIOgQim7A14aEeTbQTUGiyg4xeYKGWvZQ8C1wgg2wfQKe0mGcxph23bdPoHNyOUHASqAAOTgBQI9ARZKoDaBzCPAOwnDKuWmFUFlhoTaYSxAThcgag2gKEKwHMDrobhR4VYbryNz1A20HwhmF8Mc4xZSO-wsVICKPDSslYH+TMH8NBHgigRjxUEaKnhEQiXgDwp4S8PXodg60B6fnlcKRH2NphLAktggNGEqBOBsWAkR+DuGGwoBNgcnG4niAMimAYcJYUD3BGzCiA8w7QNugvbaBSAdIssriLxF2JTh2wXkSfmNzohUhwQTMAKLJEQE2wzI1kV2AuFuBwRNeX1kBmVHRY5RpI3oVQNQ7gj5RBo6LOmBNGzxDRNwjkQ+nBCZhlR3oXvFqLUDKjhRrZfEVSMuGpl0mHgQwLaA4HZkdAOw4SPoB2HmAdhQdJgGGNAA7DUY0YmMRYmjE7CuQ7IJMeTiqCWAdhB6GkXtDpEaclAfotPiqH0CWBag0AtkRoxtHNhhQwY30QQRLFlilA8Y5YSiKFh5jlRrFAsXbiCHKlCRgePMa11IB5NSxo2Eym6J8YejPR7o70TeUHFo9Ax2gHYXOKTH9AiAA4EwEmOrBqgtIbiJMQ8j3HDgbQWYi4dMMvo1BRiijc8DsJ6FcgVxXgB2CJCTH3hKAvtegEmLOAk0Vx94AsW+OzFC8Php4z6iOGoBDgRIl48EDsOAlAp7wSYoLEmNkDHjuKOY8aHmNtCJB7wKILUcOMbEWMrG-jKsScggloSHCBBOcfWJHGzxmx+E-saMKkAdioJoE-jkx1bGcx2xjIh9lqNbpqijRhQKcQOWQkKgBxWEhsaOIrHsieB8iRoo8I0g9YOJQ4kSbPDEn8T6Yn0RynOOwmjZexYvFicHFeDshpJnnLqleLIkKSmxWksEf+NcDqTTJ5ks3DpO4p5iQx3YruKZLHFMRWg4I64XxP1QESIoUkkiLJNQl4UbA1kiidsHckWpJx3ky1AJOeCoSUgaCXCUiN8lpQrxs8XjETSonWiaJvQzCfJLCkmVbJbjeyR+DzE3iNJ5Y8ccVN4nRSocsU8QGVPPEVTwpaGbKRrg4z+SZJLFcqaZKUnTic6IIRyj1LClFSeJZuPSQZLzarIaxN48iY2KynIjLJakJqTZKQlLTHJvo5yZU1cldg3RnkzFrVPVEuUJpAUlimxJZE-BzxXEvsV5MOkWSIIeYoQc8IQFMC8Jkw40fqMtHRYhB3EqkRqM+rpSospKeKRlMpZVTqJeoMUc8MlH1ALRqgCKe9JcqAzfp3kqKXdLBQpVastgg3pYLRrKcuG81N6RFVUna93UhPAmRu1lDrJro1M1ahhjpnMYaZ9M8WrQPYH5ViANAukVkXRwTD0ZUw7AI9Jek6AaxcE8MauPXEUA0xGY2CdYD3FbgFp1I7ADsPoDfj9Ab48MYmPDGiyYxG4I8QjKY7GDPRAABjM6Wo12bjc2WbPLIlwgAA","body":"function ambeval(component, env, succeed, fail) {      \n    return analyze(component)(env, succeed, fail);\n} "}]},{"tag":"TEXT","id":"#p14","child":[{"body":"\n    A success\n    \n    continuation is a\n    function\n    of two arguments: the value just obtained and another failure continuation to\n    be used if that value leads to a subsequent failure. A\n    \n    failure continuation\n    is a\n    function\n    of no arguments.  So \n    the general form of an\n    \n    execution\n    function\n    is\n    ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\n(env, succeed, fail) => {      \n    // $\\texttt{succeed}\\,$ is $\\texttt{(value, fail) =>}~\\ldots$\n    // $\\texttt{fail}\\,$ is $\\texttt{() =>}~\\ldots$\n    $\\ldots$\n}\n      "}]},{"tag":"TEXT","id":"#p15","child":[{"body":"\n    For example, executing\n    ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nambeval($component$,\n        the_global_environment,\n        (value, fail) => value,\n        () => \"failed\");\n\t  "},{"body":"\n    will attempt to evaluate the given\n    component\n    and will return either the\n    component's\n    value (if the evaluation succeeds) or the\n    \n\tstring ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"\"failed\""},{"body":"\n    (if the evaluation fails).\n    The call to ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":" in the driver loop shown\n    below uses much more complicated continuation\n    functions,\n    which continue the loop and support the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    request.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p16","child":[{"body":"\n    Most of the complexity of the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator\n    results from the mechanics of passing the continuations around as the\n    execution\n    functions\n    call each other.  In going through the following code, you should compare\n    each of the execution\n    functions\n    with the corresponding\n    function\n    for the ordinary evaluator given in\n    section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":".\n  ","tag":"#text"}]},{"tag":"SUBHEADING","id":"#h3","child":[{"body":"Simple expressions","tag":"#text"}]},{"tag":"TEXT","id":"#p17","child":[{"body":"\n    The execution\n    functions\n    for the simplest kinds of expressions are\n    essentially the same as those for the ordinary evaluator, except for the\n    need to manage the continuations.  The execution\n    functions\n    simply succeed with the value of the expression, passing along the failure\n    continuation that was passed to them.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":4,"eval":true,"prependLength":673,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAALxsBpmTRTSbwlCIDIAXlUF4OzABIx3oDqoaviAn3F0Mvn2InZ1ihOlmi4u4s5ns2GrBWXSuCsOKqQvKuZm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGixmrKu2HSlcglntWgOqtvVqvqqUEasIGavWNavaruviES10IGmGxMItzvXGuDkmr5EKojFRFmpPlQXIHQQoB+RxEPnBuoDqCQu0FkGajQPal8BqoB1uvuoBoJJf1kAxqktAHwDatuptFAFEwsSIDBkIDcXJoRth1AAABIAAdaoCsCgDmxwWQAoRmwmpG6XJQJqq4QGJ61suWd0AW-m2TQm1wH-F61QKW4iIW9QQGGW0AJVLkDGkmjq5WwGP6hmLNbMbwSvCmnBamggWm7OPBBmlmtmjmigLmnmwmnGy61wUfHfQ2DfFDJgsCtoDzUgaGo-KhUo+oIBfw03MVTlevfwn3JVL2o+FIG8PBHKaO76zMMOkQT+BShmdMDOgOoQt23am8zO6LB0o68qiUcBKPFNCo43TOhwZ7W9QU4sgslQM7a-TMeu8PDw-O6akG460WXFd1CcAld3UlHmQiCZalVoAlNYA60lcu7YCewCdSENeK91autG+Pa6zGnWh6qawUjHOe0gGqqSoXZffelWgk9XS1WfTgyWxfX4FfV2s3VveW+IFu0s3Wze-VAofWj8F26fcaRe7uUg4yqq1wUe9-BesBz5KevOF+2e+e6Ffu8qpG2B0sASNe62F+z6LW9+5Wlq0VY+iya6s+p+y+kW54jdUVfAT43gT4tW8mva3kNQMsaLLqiXXq6TWXJhka0VFg1su+7hmXR+uoZ+pht+rG+IJ+vhsVEywUmhtwOhgQRh-h-VYRnLB+nLf+9R1s1hgW8wORvR0ayQ4xi1T6AGgQEyl+kx1oAoH+sVP+qSwB1zYB1B7cmOdOaRZa5ymeva-QZBxenjLxkGqQTOf1QeaNRBvasgIJjxkJtOMJquXeeuC6ou-oaFeJkqtBzubx7udQXuUCAeHBly-B6Rwh0WsFQJk+shqHYml6sm02qm4GWmpQOEUCSzLISvCJh5SvKS-AVGQlLkS4XwW27rTmzOZmsgSwEcAAAwFqdqh1Yt6CU0oaIbN2nF3UsBykzgFoborM5Tidqd-Rur3qsZXItSVVkBEHKfOezD1oGekKNo8GYZMEpvNraY6eoC6aCwTNUEibmhaRceaqBvEDb04lVGrUHoZCTTxSyWRATohs7Ge1kHqo+VwRziRtuTot0aFhDrxc5gdIhcAhoGheXqanMatXBoXgVmURSDhY3suY-CVX7GJiHpkWe2FGXs4Otm7RDrBbSm+jQkcTAYVqRz0xTGJegY2NGE+NFcDFLO+IlHAMFZQZyZsEUQgbecyZamiyERETEWnrcAJTMytvWpJahaxnZdhe0FGhiZvIVajFUHWuhhFdRDFc6pYQOwdd1eydBrtavR-rwZ3u1tesqbOIxy5FudoqAyorfjNYANACdftBdZX0JatQIYirFVcdqxAe1lIWVm1YJSYH9eOu0HlmwcllwZTDufDcvo2eDlLZObWAzfjwoYuaqahzDYVs4wlu41+F7weezoplBaAYVGUDkjeVChuYDrlzOfrZxrQyPBctrvqFnYYGZd913teu0AJYbe7UzA3c-lPpGoadJsYGac+ayKsEkCZtZomYdo3aWe4qRrjW-q7e4sne7jjVCnTGPZHYrLqbsaPHPYXiaa0w+daaYCpc5nwGnW8FtAHjprwQsE+3GfZs5snemdmaYAWenZfZA6WOneVoRk-aI8zekbPUyLffkGIs-jbb0YBoRkY8tQudY-BTHbcYVErEHGrRVT9W8rDPo4Xexsev42P3CbYu0NAp0mex7fiCAqk7vPYt0O+uncA412au7QA1CGfR9LrBcOzY-CjoIyvTDLsGwotVjforWEdzfkmiQzKyItg4ZhI9c-JieV0oY30MA8Deyh+jasKY-eeMJoU+0HFrxElpakC9wR1Cpc5Q0wvO038+QRrDi63YrKVU-saqpfY5fxxsJ1e2J2+tGFIDeBIBoHJ3wz2iQSMUINHT4+qGdV5SGW4+Bo1Za-9SsXhZNb2oIDLbQditNnXuiYyai2PdLtDMXuIsWoYFKYRe3tOZ3bE4PsjdFQG5bbbeE-WfI-1W-enaRszqMZMeA-Udo+GmY8bb0d47IH4666E5MI86Ed-ZO4o+ZwIee4rKu444Zny6hxdtaXa6LA8e7m5FOgJWOYYCm6ihm+hW5HSsyvA4W6uuW4U4jY2Jvs5ggkrWQWSHZt0AyqysDqh0NxDsJ6R5Eky4v0vpMvMaVRPKJ-A8s7O-e6PHR6+6FgUfW7Z5zriXx50CwiZ6p4LrBXdtYKgX5+610HrtsY-AKDVeCe1cNy+GdlZQ7XVdBsqEmDV7zh0+wU1XV6Fk5RAcqr1+DlZekEcqN85hN9B+t-N6Fkt4e45d2FRft8E9d+1Gp9cGd+1SZS96aHd41a1XJQD5gkxS8sD7uH14vNCd1-dWD617yZBpRYt8-FOp6mCp68T415Acz7m7T6d8-CRYXiL9t814HtL7ZBpZPkLYZb5fT-8TNbYRt4Zjt8661cd85md4LfpbSdz+N8r7mr791gH85ab6XW5htZz5kWBbz4SeRhkDRj4uxkllj+XvL-b+H4fBn6Wu99j9nyLe7+35AaP7fjb-JiVQwK6XK8q+q8VHZCcIuOIMXqTnsucnaYT59R+tE8nQbeXaLQU0SvPOHW1W6A1x2SMI1PQF5DVo6wFifQNWigqf9fg1HKVNsFGAbo0cEgEgIgKiwo5D0MwRjini0ojYVQ8bckHzQoYC8CmRTCwgSVkZm5ueGxHLmWUV54JYwsA21ggKQETh7wUWGAX8FhbRYBWc0GGtPF4w+BVgXtHgSMCOBBJUaEgAgPHlkGJV5BTRRQYt3UE2N6YVBJQBXloKLcUBzsPyLPAhBYDGcqgggQUCIF8MSBZmMgUZWDC-ciaYAYweoB3Y2g+G59cwDQJ7g1BLEA8a+lS0EFwCCY0WTbD4MVBcCEUjjAcqrEkFhMvaowdQcpD8GFMAhxTFrHL0tTONVy+AdwZfWNreCCSrAphnEMLr2McQFiIpiqC9o+5ZBeLZgYYKFgtFhwOUUYPgBqGZCPB3RCodHmDYpgPAA8dAdFBiEExuwNeGhOExHCzwsipKUHLz2DjM17KHgWuEEG2D6Ar4SwzmCsMW7bp9A5uRyg4CVQABycAKBHoCLJVAbQdYR4FOE4ZVyKwqgjsJMYrCWICcLkDUAi5KxzA66V4a0D2E10T8xuNtACPJhAiTOMWVDuCNFSQijwrLJWB-kzBgjwR8IqEY8VhFgp0RCIl4J8O+FQhWA3dDsHWgPTvdnhWIkaisP4HJtcBswm4aSgFaUijw7ww2KYJsDk43E8QTkUwDDjbDyRdiO4dsG3RrttApAdkWWTJECi9QQo7QCKJBH1B0Q3Ib4ZmHFH0iyyxI+oDyL5FdhHhbgeETXjJZAZtR0WVUXSPQFsCQO8ItURaOizpgbRs8S0TsPhECZMw2o70L3iNFqBtRUo1shSOZEDkVh5pJQIYFtDCDsyOgU4cJH0CnDzApwi2kwFjGgBThqMJMcmIsRJjThXIdkJmPJxVBLApwg9KyL2jsipOIYu3BXHCaWBagZg-kfwxdEPpwQUYjwPoAIL6Bqxo2NMUsJxFCxSx2olZqGKSYMc9GPYzmKWMq6kAqxNY7YExCI7+iAxFZIMXtQnHQ8Ix2gU4SuMzH9AiAA4EwJmOrBqgtIbiTMQ8hPHDgbQhYx4UuJvIjDRiHDc8KcNvFbivADsESJmPvCUBja9ATMWcChpbj7wIY78UWM5689rxmTEcNQCHAiR7xTYiCUCnvCZigsmY2QJeO4rFjxopY20IkHvAogjRU40bAoyUZvCXKwoU4VhIcIEEVxbYjsbPC7HESLUfYrkW+0gn3hhxVowPIxN5F7sjRWdPUexJeELizc6EhUOOLwntjpxhE14fCKuTsgvhGkHrNxMnHiTRsdYtCfTE+iOUVx+E2eMqVAmE1XgskkiApNIlUTlJtE3SfqlHEjUtJZkwWmpIo6ljoxFYruLZJMq6jARI+QSRagbG4xGickmzmgNnixg8KFVMSTRJnG+i4RhQLyUJPsqYSUgaCSSWiJIkPjZ4vGCGnROdEcT6RuEpSeFJMoWT6JOFHKbeO0kRS+JI46KTFMtTCTngpY0qa5NUkUdpJHGPyUZJYoNTwpTUwMepJTCOVOp04wqc1P0ltT5JLFUibeOonTjMpUUijgNNGxDSocVk7io5JbHOT8mjU9yfqJHxAtqprgHySCAMn+T2aLFTiTIxqCjFZxVIqqXtLFS1TxApY2QRF1wG8CiJek1oA6IZE4C8BFUrEQaL2ppSospKeKelLL6RS7GDY2UaKM+mSjfpc4lyoDLhkBj5xt0sFClTzag9VePjb3pK2bBgD-+S7HnqKnC5YzJaQ1BtrSHWTXQqZ2gGmXTIwxI0OBoQ21sQA4Hsisi6ORYajOWHYBHpL0nQKRKQlxjtxu4igLmPzGITrAJ4rcDNI-ArCyJAE-QN+LjEZi4xQs5MRuAvFXSKOtg5kQAAZNOUOR5uo2NmWpTZ5MEuEAA","body":"function analyze_literal(component) {\n    return (env, succeed, fail) =>\n               succeed(literal_value(component), fail);\n} "},{"tag":"SNIPPET","latex":false,"id":5,"eval":true,"prependLength":671,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABJ93oHqsaviC+FWG41mmaquCsOKqQvKuZm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTqoaqUCasIBavWIx3auOtUG0ES10IGmGxMItzvS4tFWXQGsKojFRGGpPlQXIHQQoB+RxEPj+uoDqCQu0FkGajQPal8FqoB2usnTOoGsFJf1kHhqktAHwCuoXhtFAFEwsSIDBkIDcXxvBth1AAABIAAdaoCsCgBmxwWQAoSmzGyG6XJQfq9QQGC61suWd0Dm9m2TTG1wH-Dqk6+IEyJTZG7mlc4AkaeGnGiWrmwGV6oWLNbMbwSvAmnBYmggUm7OPBCmmmumhmigJmlmzG96vkfa1wUfHfQ2DfFDJgsCtoDzUgIGo-KhUo+oIBfw03MVTlevfwn3JVJ2o+FIG8PBHKYOp6zMP2kQT+BShmdMBOj2oQu25am8xO6LB0ja8qiUcBKPFNCo43ROhwZ7W9QU4sgslQM7a-TMcu8PDw9Owa76za0WXFd1CcAld3UlHmQiCZalVoAlNYNa0lfO7YAewCdSENeK91Yu2G+PQ6hGzqrmgkjHMe0gWqqSoXZfGWnm549XS1WfTgwWxfX4FfW2s3VvcWm6mu0slWxe-VAoNWhma2tukqka2fZWaq1wXu9-Ce0gyLTgpakelare8M6Fdu8qyG4Bz5WeyFKxPalyxWu+pGj+3msFSBneqHPep+wUjdUVfAT43gT4kW-+la3kNQMsaLCfcXQy+fYiWXCh7i-VFg1s0+ph6TTAy+565+qHW+xG-B1h-VEywho8EhgQchthi1LhnLc+nLN+2R7i6hjm8wURlR4ODhrR4OT6a2gQEy6+3R1oAoAR0VV+qSj+z6osGB7cmOdOaRSa5y8Bm8-Qce6Br+3OaONOb6qQTOf1QeaNa+glMgDxyenjBxvxquXeeuFB1x-oaFcJuxyJ3x1YHuGoSxAea2a+z6NBxG9erB4Odx7ew6qS7G8WvGnWom4GUmpQOEUCSzLISvAJh5SvcpsAVGQlLkS4XwE27rRmzOamsgSwEcAAAw5strwcznUYPtaorOnF3UsByhmd0xFs5TCdKd-SOrXrmZFqVVkBEHyd2YMeTrcA1quC1vxq00Jr1rqYaeoCaaCwTNUECbmhaSsZapsd8Db04lVGrU7oZCTTxSyWRAjv+s7Ge1kAao+VwRzkhtuTouUbBR9uReDgdN+cAhoABenqak0daHBYXgVmURSGBYXrlo-CVX7GJi7pkWe2FGntAclm7R9u+amVingtnxuqRz0xTAxcAY2NGE+McWAdUG+IlHALZcnvFjM1YVOgJRamiyERETEWHrcAJVlZXX0q13+axhpaBe0FGhCZWpFcDFLNmuhjQlNajBus1Y52NZvK5GSa8cNavWfryZXqVtOswbOIxyddKfproqMuVjteGmtftFUGGnszRYJfQY0ah2sen3Gmle1lIV-pBfVZWqYGdZ+u0HljnpydQc9bjZlvmdYKObKbwb4dOaKeZ3QduqZg0z3t72zFVs+Y+qTYVGUDkjeVCkOY9rlx2eVtLbQyPBctLvqH7YYApd91Xolu0FRdLe7UzCnc-lwe4oqeOqqZud1tqayKsEkCptpoGfNqname4shrjQId9ZUe7e7jjVCnTFXbOYrMrZMckbACVu3ZMFub3fxeDnwGnW8FtAHjJrwQsE+36fpsZu7eGdGaYAmd7fPffaWN7a5oRlrZQ6tXrc20vfkGIs-hjffetoRiI4rNObI-fq+c7eeErEHGrRVT9W8rDII6He9fOv42P38bYu0NAp0mey9clpgu47vPYt0Ket7ZfY1xau7QA1CGfR9LrBcIivJiDoIyvTDLsGwotVoqAyorfkmiQzKyIv-aFjQ9M85ieV0oY30Jfddeyh+navUBGBreeMxsE+0H5rxEFpakc9wR1FM85Q0wvO03s+QRrH85nYrKVQfqatM4o5fw-sJ1e2JyetGFIDeBIBoHJ3wz2iQSMUINHXo+qGdV5SGVc2TbsdK-9WQe7qmpWoIBzc2rDKRHGvnuCazsSdXdztDMnuIra7JY69BeXu2bnfY5RpvbBUa62bWEo5Y7mcw-1Tvd7chsTvja0bfZUbw+GhI7Ld0bo7IAY+q+Y5MIs9XLQ5U6w9FUE8o6w929u6FgS4Ta+daQq6Kqq8cr-uuZvM2YYB66ij6+hW5HSsytxsLeG+OeHZ9Y2OPss8NkrWQWSHpt0Ayqys9sEa459pR9B5Eii4vxlpMv-aVRPNR9xq0826u6PBu7O9FXEcm8p-JgR5RG63TVJ9x4zrBXttYKgTiSR4GHLuMY-AKClZSa+8N26qce1Dx9Fs8Z+sqEmGdlZWDipewU1SV6Fk5WlZpnV85hV+7m5EhY7Vl47s+7zlk+kC8tpd2ChY+6Y6t6l-N+NX6WSWZUN41+N9ge1SZTBhkDRkt9SQXsd87kcbd85k16q+D++tD4Zj1+2p6mCtq7paN+lbj7a+j-Jj18JaCet+T6q6z+ij+qJZ0UG92Gl9AD18UR14ZnD68ZlZYTYSr4z8-FTZJbifdRt9r5b91jb6T6Fj18phJlmg+dz5deRl94vMJj1aHGtkd+nvT4-Br7l7n8b8pYcvgbfhX9nelZ-o37N+V5ezey6Qy6y5y8VHZCcIuOIMnqTnsucnqcV81mLYKZHaIcWhTQidmkh-G5tpo-EGDvoF5DVo6wFifQNWigp39fgZ6EcLPAhAbo0cEgEgKAKiwo5D0MwW7ini0ojYVQ+nckGzT4Z89u4znTJqBAHgElL6bNAkrFzLJSs8EsYQAQaxAFgCJw94KLAAL+BAtosrLOaMDWni8YfAqwJ2owJGBHAgkMNCQAQHjxCDEqIgpomIOG4yCjG9MKgkoAry0FhuEA52H5BgGjA4BjOKQSgIKBoDRGGAszFgODYpAHu5zMABoPUBzsbQojfBipG6yEDe4JAlrIQ1M5sCgBBMaLLhz4ZeCgW5jVsqrD4F+MnaowGQcpAIEZN+BFhIIRaksarl8ANgmWlrQcGUCEKJZVQKw3iFc8ueFiVwSqCdo+4hBMbOnjD0xotFhwOUUYPgAKHEDbB3ReIZQXdYpgPAA8KVGyHoEIpuwNeGhP42gE1BosoOBnsHGpr2UPAtcIINsH0BXxRhnMcYcN23T6BzcjlBwEqgADk4AUCPQEWSqA2gUwjwBsJwyrlxhVBeYbo3GEsQE4XIGoJ5yVjmB10Fw1oIsJLon5jcbaZ4eTFeEL8Ys4HL4aKh+FHgqWSsD-JmE+FfCgRvwx4gCLBRQjgRLwG4XcKhCsBm6HYOtAeiu5nDYRbDcYSwNACkAtB+w0lKyxxFHgrhhsIkVIHJxuJ4gNIpgGHDmFYi7Ehw7YNugnbaBCRgwsspiOZF6hWR2gdke8PqDohuQdwzMFyM6Flk0R9QekYyK7AnC3AQImvNiyAxyjosEoxAdyN5FaMgRko2eCoGizph9RqgHUZTyBECZMwco70L3lVFqA5RZos3NiLJEDlxh5pJQIYFtAcDsyOgDYcJH0AbDzAGw-WkwEDGgANhqMMMeGIsRhiNhXIdkLGPJxVBLAGwg9BSL2hUj-RduCuP40sC1AYBTI2RhaIfTgg-RHgfQAQX0B5jRsUY0YfCKFhUi5RrFD0dmJ6HKkixgeKkVl1IC5j8x2wJiCh2dEuiKybolat2L+4+jtAGw8cbGP6BEABwJgWMdWDVBaQ3EsYh5OuOHA2hUxJw0cTeQ6GjE6G54DYQeNnFeAHYIkWMfeEoBa16AsYs4IDVnH3gPRd4tMTTwuF7iuuTAagEOBEhHjSxI4H8feFjFBZYxsgHcdxXTHjQqRtoRIPeBRCqjexo2cRq-0uEuVhQGw2CQ4QILjjKx1Y2eLWLQkWpGxtIy9kBNx7tiiJOFQYdSNInjik6io99kOOHFQ4oJCoLsYhKrF9iUJH4ngfIkaK3CNIPWBdpxPwnuDUJuI+mJ9EcrjikJs8SiXyKhyvB2Qgk3Tl1WPG4SuJNYhSYCPfGuBZJWk+SZBL0kZFOh3HFsV6K7iGT+xCol4SPhYkWpixuMASSRGEkwS8KNgAyWJJMqOixhhQByU6PsowSUgaCHiZCPQnHjZ4vGf6oRPmH1jOYHEnsdZJMo6SVG8UhmFSIPFySbJjE3Uf5ICmWo2JzwTKTUC5DZSwpdYvieNGUmqTA2qyLKdZMLHGSvaIIRyg1LEmpSmJmNGqa5JYoYSDxeEvsbFN0lYd2pfYzqY5JMmZjyxrYxxuVK7A6igRBQd5gVNcBOSQQPUoSSxRIkMifgpUhiR2POGrSxURU8QFSKEGedEBTAiSeaJxAmjDRpKIQblNhHKiVqUUqLKSmCnRSF4RjW6fyKIDTDPOwozkVqKlEDjKpw3d6c9OHHMTjpwcFKrVi15q8M2S9L-hg3Or08hYHnehhLm4Yy4oqcUZGe6ksGvtxslgxNrKHWTXQqZ2gGmXTIwyQ1aBAQ-KsQFoFEisi6OEYXDL8nnSrpOgDCaBKDFziFxFARMcmJAnWB1xW4YaR+HGGYTnx+gO8UGJjFBjBZ4YjcNuPBlYcjBZIgAAxScocbbFRkbMtQmzyYJcIAA","body":"function analyze_name(component) {\n    return (env, succeed, fail) =>\n             succeed(lookup_symbol_value(symbol_of_name(component),\n                                         env),\n                     fail);\n} "},{"tag":"SNIPPET","latex":false,"id":6,"eval":true,"prependLength":670,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABJ93oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWIx3aumtUG0An3F0Mvn2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGpPlQXIHQQoB+RxEPmuuoDqCQu0FkGajQPGvj1vTquWsnTmoGsFJf1kEmv2vwCWoXhtFAFEwsSIDBkIDcWhpeth1AAABIAAdaoCsCgHGxwWQAoVG-at66XJQfq9QQGBa1suWd0Em4m2Tfa1wH-Dqma+IEyJTAG8mlc4AkaSaiGlmsmwGI6oWLNbMbwSvGGnBeGggRG7OPBFGjGrGnGigPGgm-ak6vkaAtwUfHfQ2DfFDJgsCtoDzUge6o-KhUo+oIBfw03MVTlevfwn3JVPWo+FIG8PBHKe2kw1NK2kQT+BShmdMH2k2oQ1wbW6Gjc4WQIxmKKIasq0m6HDBTWr6io43X2hwZ7W9QU4sgslQM7a-TMNO8PDw4Owai6uO0WXFd1CcAld3UlHmQiCZalVoAlNYEQaLWO8q7QeuwCdSENeK91KPGqn6qazqsmgkjHVu0gWqqSoXZfDmim549XS1WfTg2mxfX4FfJOs3VvZmla7O0sgWwei1AoIWhmdW0ukqka2fZWMa8Om82ukgwMSLTggq-FCOye8M6FMuzu6+0sASPu62Lez6Xm3e-68+ymsFD+6eqHWew+wUjdUVfAT43gT4hm1wAlXkNQMsaLNaiXTa6TWXNB7i-VFg1sle-BmXdeuoTeohnev62Boh-VEy+Bo8JBgQVB4hi1chnLNenLU+zh7izBkm8wRhgR4OUhsR4OT6dWgQEyreyR1oAoI+-VE+qS8+s6osb+7cmOdOaRLEBBxaNwHwtu0lDu3OaONOC6qQTOf1QeaNLeglMgExr+y+8xnRqxquXeeue1BxiO2QZxsxnjdx1YHuGoSxAeQBlykBv6seiB4OfQEQaBy1cG5mqGiWuG4GRGpQOEUCSzLISvGxh5SvKS-AVGQlLkS4XwBW7rXGzOdGsgSwEcAAAxJtVpgczmEfntaorOnF3UsByg6d0wZs5ScanuHr5tmpka5v1SVX8bGd-V+tHq6f4Y-BFquDFrvuoElsyayOyc2FyfkHyYTNUFsbmhaTUZao0d8Db04lVGrQroZCTTxSyWRBdpus7Ge1kAao+VwRzjetuTopWeDgtqBaFgdJucAhoHue7qalEdaDeYXgVmURSCeYHumaPCVX7GJkrpkWe2FG7pfslm7QtquamR2scVINLLPz0xTHBff2eNGE+IpaftUG+IlHANJbMfFjM1YVOgJRamiyERETESbqMYjp5ZXX0q1zuaxmxcee0FGl8ZvOZajFUCjuhjQhVftBWolY5yVf6BGgCa0YVavWUeAfGdAdibOIxy5ESdoqAyorfl1eGi1dLOGkOqkomf+oudOun3Gi5e1lIRvuebFZvKYCNdce0HlgAcliAZTGiaWfAetdFXDfmbWFBaWI3q6bieZ1Ae0E4xpu41+F72zEFp9Y1r9YVGUDkjeVCjmYYDl0Wf5o5qvkMeTpP2N3rZts5iZvoZBZbe7UzC7bsCSdXJSemrSa01hqlsRqsEkDRsxpqeVvrbae4rerjTgeTc4ere7jjVCnTGHYzYrJ+rheDnHchsYHSZnaYFPeFrAGnW8FtAHiRrwQsE+2qextxurfqcaaYBadrdXYUdaHXfkGGnVoRhzaA7cC9bPUyJA+Is-iPckfA-9tbKmaQ-JnUcreeErEHGrRVT9W8rDIQ6bcmfmv42P2sbYu0NAp0mexg6Aqo7vPYt0K9trdQ-BRau7QA1CGfR9LrBcIivJjtoIyvTDJHZf3tforWEdzfkmiQzKyItvc5lrYw8tSeV0oY30I45Neyh+navUBGCmaBrNxg+prxFppan09wR1Fvc5Q0wvO010+QRrBs-RYrKVX3qatvfQ5f3PsJ1e2Jy9tGFIDeBIBoHJ3wz2iQSMUINHTw+qGdV5SGVc39a0aS-9SsRDfQYjoIAjcurDKRDytDV2GUYJS7eiwdLMeIuK4YEiZee+oWZHubaTbWIxzy7TaQ+I+za3ahx3drbet9pEckZPckZA7A+zAg967Edw7IHw4y6I5MOU9XNU6E6g7FS9bU6A5Q627PtLY45bZw2w80dce7m5D5YjtGYYEq9DOq+hW5HSsyshvq6Hqa825bfgZ9wgkrWQWSGxt0AyqytNqh0NwtoB6e5Enc4vw5pMtPaVRPMB8hpHdG-W8isteW9FWYem9R4-B+5RG63TUR8h5DrBTDqkagTiT+4GDTvkY-AKE5eNdvsN26r0e1Ch8ZpccusqEmGdlZWDkxewU1T56Fk5S5ZpmF85gF7O65A+Y7U5-Lscol4Zil68pxd2E+fS9V9SXdW4+kG1SZTV7Z418jf1+SWZRkDRi16y4Ht14vOCdZ6aGN6587l0dl6Fil-Slchjbzid-Ls956mCut9xf58-ARbsfV7l65bD+imusRZ0VRejVt8USV+E-l5GuT595D-M46CRd1m8Z18j-S8DeRfz+D-d4mm5jlaD92HOcL8jeRgt4vMJllaHGtlt+7rd57bT4fCr5K6N6z+kF-tL4j5F+7+7kpeDYL-L4wK6VC-C8i8VHZCcIuOILMaTnsucj2Yd7-AtZiY+4MdsQa8CdmgTZa8ueO4WSNXoF5GrTrAsX0GrSgs39+Fg6lW2FGA3TRwkBIAf6ixR0PRmAYcU8WlEbCqEdbkgiaWbKnt3EM5hNQIA8AkhvSJoEkvOZZTlngljA395W9-R-hOHvBRZr+fwR5tFhJZzQHq08XjD4FWB60cBIwI4EEk+oSACA8eWgYlXoFNFGBDXdgXI3phUElAFeWgkf25Bb9X+s8CEJ-0ZysD-+BQQAYw2AFmZQBRlYMLt1AD4Bn+dQZrjaEYawMVI3WGAb3HgEtZPuAjQgbfwJjRZNsOg0wY82UarlVYlAqxnrVGDsDlI0A0JlQIsK2CocqjMdmAHUHqAOaYtbQSgIQollVARDLwaHREKtALEBglUHrR9y0DQWWPDYkvVFQtFhwOUUYPgFiFwCAh3RSIdHjNYpgPAA8N-tFCwEIpuwNeGhNYxHCzwsipKUHDjzBTo17KHgWuEEG2D6BW2LQzmG0Ia7bp9A5uRyg4CVQABycAKBHoCLJVAbQToR4HGE4ZVybQqgn0IUZtCWICcLkDUG0BQhWA5gddOsKPADCU0KdeoG2mOEMxThH4TlBbSuH6obhGLCQErA-yZhLhDwp4bcL1IPDRUXw54eiGEHBB9hRdDsHWgPSo9Vhvwzhm0PwGgBSAfkWeCoBIGxZoRH4TYYbERE2BycbieIDiKYBhxeh63J4R0KIBdDtA26c4doARH1DVATEFoSSLnjkjKRHbeoICJ2HBBMwNIt-mWVBH1B8RhIrsMsLcBPCa8ULIDAKOixcif+tItAUByeHcikR0WdMIqLpHCiGRLlYUJmAFHehe84otQAKIhEDkoRaIlYamQjrCRDAtoYgdmR0DjDLR4w8wOMOlpMBHRoAcYajDdHuiLEbo8YVyHZC+jycVQSwOMIPQYi9oWIqjkoCtGWMM4lgWoGIKJHENGRzYYUPaI8D6ACC+geMaNi9F9D-hQsSMQKNYrRi7cNg5UjCMDyRjwupAaxjmMTFGjJGJo00a2TaEEoax13W0doHGEdjfR-QIgAOBMC+jqwaoLSG4l9EPIJxw4G0KGOWFtj36NQUYjg3PDjCyhXIPsV4AdgiRfR94SgGLXoC+izgd1PsfeGjEHiwxGPY4fOJvIjhqAQ4ESMuPBDjDbxQKe8L6KCy+jZAs47iuGPGiRjbQiQe8CiHFF1iEx2wJMZWIa5piAJDhAgh2KzH1ilAeYpsVWNpFSBixL4+8Yhyg4FjOYRY3EdoA7F+11RGwwoC2ONH2VqxIE7MWBOYYH8ceTwq5OyB2EaQeshE6iYhIgkUSzaIIRyh2NAmjYKxDE-aq8GYkkQ2JaY+CTRNzFCSxUuE4hvxOkmzxZJZueSdxUjGWiyxXcJSeBKFGtAnhaw8iY8JcqiSWJUnUQSfDwo2BFJiEkyo2L+FkSjJqkyiWhNni8Z3mXEyEZqJXFuSxMC8ZCesLUkfgqJtYnSSZRUkCMgpR4SMWuIEkNiSJkUxyU5MtS-iFQMUxcXFPAloZAp5A+RI0TMnY0WKsUnSZ5IrK4TPojlYqYhIinyiRJ+U8SSxTTFriEJYEgKQ5PW5VSwJNUi1FFNbIaSMxWk3RplLsn0iRRI+M5slLGkNdTJDU4SmhOLFrjiJlYwyZNLkkuS3+UgWgXsJ-64D6Jwk1oKqORGkpaBCU34aKIjq+SLBrklIGgjkb7S3QCw7YFSMOmjSNRDXXyadJbHNjVpoqFKrVi5b+9auF3G8gNHVYswkMe5V+s3Qjq2tSA7dY1oDIlg+Momu-RNvNWx5o96GiWXQqDOahe0PWaHc-rKHWTXQSZq1DDOTOYykyKZL1TAUQPyrEAMBWIrIujmaE-TWh2ASMVtLTEfinR-YwcRQEDHBj3x1gCcVuDanojsA4w+gKeP0AHinRPop0bzPdEbgZxr0qDrINNEAAGA7lDjLYCN9ZlqQ2eTBLhAA","body":"function analyze_lambda_expression(component) {\n    const params = lambda_parameter_symbols(component);\n    const bfun = analyze(lambda_body(component));\n    return (env, succeed, fail) =>\n             succeed(make_function(params, bfun, env),\n                     fail);\n} "}]},{"tag":"TEXT","id":"#p18","child":[{"body":"\n    Notice that looking up a\n    name\n    always \"succeeds.\"\n    If\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"lookup_symbol_value"},{"body":"\n    fails to find the\n    name,\n    it signals an\n    error, as usual.  Such a \"failure\" indicates a program\n    bug—a reference to an unbound\n    name;\n    it is not an indication\n    that we should try another nondeterministic choice instead of the one that\n    is currently being tried.\n  ","tag":"#text"}]},{"tag":"SUBHEADING","id":"#h4","child":[{"body":"Conditionals and sequences","tag":"#text"}]},{"tag":"TEXT","id":"#p19","child":[{"body":"\n    Conditionals are also handled in a similar way as in the ordinary\n    evaluator.  The execution\n    function\n    generated by\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze_conditional"},{"body":"\n    invokes the predicate execution\n    function\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pfun"},{"body":"\n    with a success continuation that checks whether the predicate value is true\n    and goes on to execute either the consequent or the alternative.  If the\n    execution of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pfun"},{"body":"\n    fails, the original failure continuation for\n    the\n    \n\tconditional\n      \n    expression is called.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nfunction analyze_conditional(component) {      \n    const pfun = analyze(conditional_predicate(component));\n    const cfun = analyze(conditional_consequent(component));\n    const afun = analyze(conditional_alternative(component));\n    return (env, succeed, fail) =>\n             pfun(env,\n                  // success continuation for evaluating the predicate \n                  // to obtain $\\texttt{pred\\char`_value}$\n                  (pred_value, fail2) =>\n                    is_truthy(pred_value) \n                    ? cfun(env, succeed, fail2)\n                    : afun(env, succeed, fail2),\n                  // failure continuation for evaluating the predicate\t\t    \n                  fail);\n}\n      "}]},{"tag":"TEXT","id":"#p20","child":[{"body":"\n\tSequences are also handled in the same way as in the previous\n\tevaluator, except for the machinations in the\n\tsubfunction\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"sequentially"},{"body":" that are required for passing the\n\tcontinuations. Namely, to sequentially execute ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"a"},{"body":"\n\tand then ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"b"},{"body":", we call\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"a"},{"body":" with a success continuation that calls\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"b"},{"body":".\n\t","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nfunction analyze_sequence(stmts) {\n    function sequentially(a, b) {\n        return (env, succeed, fail) => \n                 a(env, \n                   // success continuation for calling $\\texttt{a}$\n                   (a_value, fail2) =>\n                     is_return_value(a_value)\n                     ? succeed(a_value, fail2)\n                     : b(env, succeed, fail2),\n                   // failure continuation for calling $\\texttt{a}$\n                   fail);\n    }\n    function loop(first_fun, rest_funs) {\n        return is_null(rest_funs)\n               ? first_fun\n               : loop(sequentially(first_fun, head(rest_funs)),\n                      tail(rest_funs));\n    }\n    const funs = map(analyze, stmts);\n    return is_null(funs) \n           ? env => undefined\n           : loop(head(funs), tail(funs));\n}\n\t  "}]},{"tag":"SUBHEADING","id":"#h5","child":[{"body":"Declarations\n      and assignments\n    ","tag":"#text"}]},{"tag":"TEXT","id":"#p21","child":[{"body":"Declarations\n    are another case where we must go to some trouble to\n    manage the continuations, because it is necessary to evaluate the\n    \n\tdeclaration-value expression before actually declaring the new name.\n      \n    To accomplish this, the\n    declaration-value\n    execution\n    function\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"\n    is called with the environment, a success continuation, and the\n    failure continuation.  If the execution of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"\n    succeeds, obtaining a value ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"val"},{"body":" for the\n    \n\tdeclared name, the name is declared and the success is propagated:\n      ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":7,"eval":true,"prependLength":666,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABJ93oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWIx3aumtUG0An3F0Mvn2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTquWsnTmoGoWtFSWs6u0ES10IGmGxMItzvSOrBROr5DOqLAur+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjzBqms6v6r5EFJf1kEmv2vwDhq0lAFEwsSIDBkIDcX5rqE0Es1AAABIAAdaoCsCgRWxwWQAoKW-a7QEyJTKG9QQGGGisuWd0aXbYTW4iFcy1H-Dqma+IE26TVmwGfa1wJVLkSa3m2arGwGDGzmLNbMbwSvAWnBYWggUW7OPBWHaWuW7rJWlWtWs3LGqPNwUfHfQ2DfFDJgsCtoDzUgUmo-KhUo+oIBfw03MVTlevfwn3JVFOo+FIKmpC1OqVBvdOzMAukQT+BShmdMZurOoQ1wRO-mz6lu6LB0368qiUcBeOhmio43FuhwZ7W9QU4sgslQM7a-TMae8PDwruwavGka2fZWMavum893UlXemMCZalVoAlNYb64+7e420gyLI2m6+K91cetRF2y2t2+as4jHK+0gWqqSoXZfbW3W54jdUVfAT43gT4h21wAlXkNQMsaLNaiXTa6TWXGB7i-VFg1s2fTgo2zA34FfEGis1vD++IQhjB-VEywUsBtwCBgQaBzBi1XB1BmXPPShphsFeBo28wDhzhoWbB-h4OT6d2ky4hoRo8AoV+sVAoT28mOOnGwC2+i8mOdOaRO65yi+z6-Qa+6FW+njVRi6qQTOf1QeaNcRglMgXR4e3OaONOIxquQm7hbUbug+-oaFax-RzuNR7udQXuUCAea2cRz6d+iG1m1q0VHRv+sGqSnmy2m0A+6gAO4GUWpQOEUCSWoLBM1QUxiKsVfAVGQlLkS4XwWW+WxWigRwTOGWsgSwEcAAAyNtVoAczh4eAYibN2nF3UsBylad0wds5Sseid-XBpZvaYdqVVkBEFCbGfdrbroekJ9o8EScFsDtSfSaSfkCyErxMYeSUDmhaSkoUen3Iq11VGrVFjBiTTxSyWRCrqJs7Ge1kAao+VwRzg1tuTorkbBTzu+eDgdLb04nOaxmJiub+bFXuYXgVmURSGuZfrNo-CVX7FBdSXdWe2FB5kIjPvtW7TzsUamR2scXvpWqRz0xTABff2eNGE+KJcDFLO+IlHAPxZsfFjM1YVOgJRamiyERETEXPrcAJTZZXX0rOZoAucxYYG0FGgsc+tpajFUCeuhjQjlftBWqFY5xlZvK5E8ZKvKqlavVfpCaZtdshrjr1uDm1eiYVroqMuVnVeGhVdLOGkOqkpNd4ah2Odc3GhZe1lIT3puYFc+qYB1cuu0HlhDWfvMZcpmatvCfNaFmDeGbWHBaWMIfafjYtRNYRqZg00Ad72zA9qOZavxeUDkjeVCimazrl1Gdje1qvkWhTUnvqErYYARd92Zqtu0F+bre7UzBbc-n-swbiemoSf9qFpSayKsEkHDvKajpEGacwY1rjTto6cwdLe7jjVCnTH7fmYrJiYkY-GHYXlHa01WYnb4eDnwGnW8FtAHjFrwQsE+zKcjsqdLZqbqaYEafLYXYPdaCXfkGGixoRgzd-Y7ZWs23-eIs-hTYkaA93djoLfg-keLZOYVErEHGrRVT9W8rDKg5rc-uhv42P2MbYu0NAp0meyzaApI7vPYt0NRvLaQ53xau7QA1CGfR9LrBcLyY-BLoIyvTDLsGwotVoqAyorfkmiQzKyIovaFnLZg9jpozWEdwk-0N3f1eyh+nar8ZXfZrNyzYNrxHwZai09wR1Fk85Q0wvO0w0+QRrDM7bYrKVQXtLIU85jmZg7jsJ1e2J1RtGFIDeBIBoHJ3wz2iQSMUINHQw+qGdV5SGS9aKuUa8txXdQnBrxDb+rDKRCfqCY+pvP7cHtDJseIqfrhajducZpGbA9Na-rWIxwIGmf3ctVw-Te-orPXfLY1pbvdf4aa84f-cA+zGA7a4kfQ7IEw9i-9S47Atk+4vk549A7BTddm9XLg7c6Fg86LdOtaQS-Ot1ZVW5A5c+qGYYEK6imK+hW5HSsyuPdy4q5jYI7ZtAZ9wgkrWQWSAVt0Ayqyuzqh0Nzzq+5u5Ekc4v21pMovaVRPO++PaE768W6PGW-h-JmoZG6R4-De5RG63TWh+B9ceDl7uEagTiQ+4GGnvEcoOZa8YDYnukG6vUZcaeeUbp8eeDiRewU1VZQ7T0f292rRdZ4csO856Fk5RZccqF85jZ8m5w-F4ZhF6S+w5S5kVY+kG1SZUV92EZ-261XJTV5gkxWS9RejWV5Ufsedhl-Jjl55+8YupZ6Fkl4Bp6mCqsTzk18uuZmuojdt4l8-EhbMY1655Zd9+igpqhZ0TK92BB8dsqTZbYXN94+57d8UTj6PEl99Zhfrhd4D+UbT91gz757t4mm5hRed-dUOaz61+RhkDRj4uxklmN4la99l4T-xob+T6Dwcvvv9fz85kt7d5Prz6V-54wK6QC6C5C8VHZCcIuOIJsaTnsucjSbN81mNbIbjdodsQq5sc7Ae5q9OtQ6RiNXoF5GrTrAsX0GrSgoX9+DPRHFnghA3TRwkBIHP6ixR0PRmDc5Ty0pGxVHE-JHVrTYk9fG-jCwgSQoZm4UeGxFzqoEGp4JYwx-BkKFDP4X8Jw94KLEfz+CIDoseLOaGTWni8YfAqwFOsgJGBHAgk9NCQAQHjwkDEqZApohQIq50CxG9MKgkoAry0FN+3IRfvUD8h39RgD-RnDQLf4FAP+lDL-mZh-62sUg63BZpdy5DcCO2NoShoA3MBACe4NQSxAPAJLq4ByGAk-gTGiwQc02egxAdIwHKqwCBRjFOqMDoHKQ1BfjDQQExazk8ocsjShvgCv51BtavtZQQSWgFL0ByZgnuiIVaAWJ-GKoFOj7hIHgtIBHAoWC0WHA5RRg+AMIY4PUAvY+0FBUVFI2CYpgPAA8KVGyAQEIpuwNeGhMY1v41BosoONHkLBlr2UPAtcIINsH0D1tah5MeoRV23T6BzcjlBwEqgADk4AUCPQEWSqA2gTQjwAMJwyrl6hVBdofw3qEsQE48g4IFCFYDmB10CwtwJ0MbYn5jcbabYR+F2Hx886Rw0VCcJT4SAlYH+TMIcO2GXD4+jxc4cHEeFXD0QXAtYUrHXodg60B6RbnMJeHcV6haA0AKQF4HjDSUeLIEa0CWGGwIRUgcnG4niBIimAYcNoaB0uGNCiAzQ7QNuibbaBwRlQssv8IBF2JJh2wfEfsPqAfDVhjpc4ESMKFlkfh9QVEeiK7AzCdheXdxkHQ45sjosmYRkbPDLKcjFhOIIUZCIsBtgJRIo9oViIfTghMwbI70L3jFZAY2RpI1soCJhFajUy2jDwIYFtBYDsyOgAYcJH0ADDzAAwoOkwEtGgABhqMO0faIsR2iBhXIdkK6PJxVBLAAwg9HCL2gIjzRduCuMY0sC1A7+GIzBvKObDCgzRBoggvoDDGjYnRaPN4ULARFsjWKSgQ0fY2g5iiLUCIoLqQFDHhjtgTEX9tqJ1Fm56hBKIsadxNHaABhdY10f0CIADgTAro6sGqC0huJXRDyPscOBtC+iZhNYz6gUNGJINzwAw8cS2K8AOwRIro+8JQF9r0BXRZwEmi2PvDZjVxfolbgsNHH5cmA1AIcCJEnHggBhI4Y8feFdFBZXRsgYccCPsoIjbQiQe8CiDVEljRs1DdfvmJTSxiXxDhAgnWITFJjZ4KYoRmmM5gZjkRS7K8cD2VISNIJDMaCWiK7ZqjW6ooxCYUCrEVl-R40QsR+MTGljvxcovAfIkaLyCNIPWNCcWKImjZIxsw+mJ9Ecp1jPxs8BCfDyQlCxXg7ISiaJy6pTjgJdEsCRxLFRcTVyrE4SUoFEnVi9xbgQMQaODFdwpJJlDkbCJHw4T9U0YkEDxL4nWthKlQ2MHhRsCSTQJZYzURcOwmaTLUeEhUM+JSBoISJDwlyv+IclE1wJtQ8SUeAIm0SzJJlGSZwy8mtAER44tieZMwmBSrJ1krSU+MMmhSVJDEisWRPGi6SSI1E+KWZMSm6ic6IIRyhlNLEBSD2QUj8KlKoksVYx44kCaWI8mWTQO+U0bIVItTFSzcCk7MUpJ8YJS1JXI1oAUAObRTQA2kiKBRLSksUUJ5DGoKMXLFRiop-UsFLZOeAIiSB2gEgVlKKnijn+xI6LCQIilHDLhBKWeCYEMGGSDpYmBeGI04nkicRHgZadSMJEbSmRU0pHoNN8AnSdpMIysbNODgpVasLLVvtTzcboDKWkEYvlixyzvUtGN5X+uGWb56sJWj9T3pLFyHNgd+cbZ4j-Ua4jMAGabOZjQwwYsMcs+DRfGm0EZm5SGENO6QOBLKPctkrghTp61wDrJrojM1ahhhZnMYmZrM8WvAMwH5ViAcAiEVkXRw1DPpdQ7AItOf7Vo2Zpo28VaNbHtiKAno70TeOsB9itwNU44dgAGH0Atx+gVcVaJdFWiZZ9ojcEOMem-tRBQIgAAxMcLUhbThnbMtQOzyYJcIAA","body":"function analyze_declaration(component) {\n    const symbol = declaration_symbol(component);\n    const vfun = analyze(declaration_value_expression(component));\n    return (env, succeed, fail) => \n             vfun(env,\n                  (val, fail2) => {\n                      assign_symbol_value(symbol, val, env);\n                      return succeed(undefined, fail2);\n                  },\n                  fail);\n} "}]},{"tag":"TEXT","id":"#p22","child":[{"body":"\n    Assignments\n    \n    are more interesting.  This is the first place where we\n    really use the continuations, rather than just passing them around.\n    The execution\n    function\n    for assignments starts out like the one for\n    declarations.\n    It first attempts\n    to obtain the new value to be assigned to the\n    name.\n    If this evaluation of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"  \n    fails, the assignment fails.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p23","child":[{"body":"\n    If\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"  \n    succeeds, however, and we go on to make the assignment, we must consider the\n    possibility that this branch of the computation might later fail, which will\n    require us to backtrack out of the assignment.  Thus, we must arrange to\n    undo the assignment as part of the backtracking  process.","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-3","body":"3","href":"/sicpjs/4.3.3#footnote-3"}]},{"tag":"TEXT","id":"#p24","child":[{"body":"\n    This is accomplished by giving\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"  \n    a success continuation (marked with the comment \"*1*\" below)\n    that saves the old value of the variable before assigning the new value to\n    the variable and proceeding from the assignment.  The failure continuation\n    that is passed along with the value of the assignment (marked with the\n    comment \"*2*\" below) restores the old value of the variable\n    before continuing the failure. That is, a successful assignment provides a\n    failure continuation that will intercept a subsequent failure; whatever\n    failure would otherwise have called ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"fail2"},{"body":" calls\n    this\n    function\n    instead, to undo the assignment before actually calling\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"fail2"},{"body":".\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":8,"eval":true,"prependLength":658,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABJ93oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWIx3aumtUG0An3F0Mvn2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTquWsnTmoGoWtFSWs6u0ES10IGmGxMItzvSOrBROr5DOqLAur+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjzBqms6v6r5EFJf1kEmv2vwDhq0lAFEwsSIDBkIDcX5rqE0Es1AAABIAAdaoCsCgRWxwWQAoKW-a7QEyJTKG9QQGGGisuWd0aXbYTW4iFcy1H-Dqma+IE26TVmwGfa1wJVLkSa3m2arGwGDGzmLNbMbwSvAWnBYWggUW7OPBWHaWuW7rJWlWtWs3LGqPNwUfHfQ2DfFDJgsCtoDzUgUmo-KhUo+oIBfw03MVTlevfwn3JVFOo+FIKmpC1OqVBvdOzMAukQT+BShmdMZurOoQ1wRO-mz6lu6LB0368qiUcBeOhmio43FuhwZ7W9QU4sgslQM7a-TMae8PDwruwavGkanmW67UVRAld3UlXeufHLd61oAlNYb60lYe7YE+o2m6+K91cetRF2y2t2+a54jHK+0gWqqSoXZfbW3W549XS1WfTgo2zA34FfEGis1vd++IBe0su2l+sVAoT28mOOnGwC7e7cmOdOaRO65yi+z6-Qa+6FXBnjfBi6qQTOf1QeaNWBvum8sgch2+qhtOGhquQm7hfel+glWQNhyhzuAh7udQXuUCAea2Jhz6N+iG1m1q0VMh3+sGqSnmy2m0Zh6gAO4GUWpQOEUCSWoLBM1QehiKsVfAVGQlLkS4XwWW+WxWigRwTOGWsgSwEcAAAyNtVv-sziNpQb1qh2nF3UsByj8d0wds5VYZUd-XBpZqAbNv1SVUEZibWDiatpQYwY-G9quF9q0cFsDr0YMe0fkCyErzoYeSUDmhaSkqwen3Iq11VGrVFjBiTTxSyWRCrqJs7Ge1kAao+VwRzg1tuToqyeDjzrGaFgdLb04iaaxmJlacmdhopoXgVmURSDaefsSaPCVX7AWdSXdWe2FHvomUlm7TzuwamR2scVINLLPz0xTGmff2eNGE+JucDFLO+IlHAMudvvFjM1YVOgJRamiyERETEWpRIZvIBZXX0saZoGaZPtClGiYYJXeajFUCeuhjQnRftBWphY51Rc+q5CEZKvKu0BRZcrkfibjsCaFhJZUYVroqMuVgJeGlxdLOGkOqktdshtqZat+dwZ+jxDWd1nrnabcAJSYFJcuu0HlhDSfsYapaZt5YUbpc5mldSaWaOOgYSfVf1V5YRqZg0wAd72zA9v5dOvqYVGUDkjeVChSYYDl3SY-uho3SPBcsnvqEdaLs5gtohu0Ame1u2aD1TR9bsD-u4tAHUems0f9qFt0ayKsEkHDocajpEB8ajY1rjQCbOIdvJlte7jjVCnTHDe1bN1UajeDhjYXjja0wKcTfzf1XwGnW8FtAHjFrwQsE+3scjqcdtdcfcaYC8ftczarc5mzfkGGixoRn1fHaPENc20neIs-nLfnZnbbtbPds3c5jqdc3GkrEHGrRVT9W8rDJXZdchtpf42P1obYu0NAp0me0NaArvbvPYt0NRvtZ3Y1xau7QA1CGfR9LrBcPMY-BLoIyvTDIjZf1oqAyorfkmiQzKyIqbbFXtbXctSeV0oY30J3YpavR+navEdzY2P2sNYNpFe4xaiI9wR1DQ9aE5Q0wvO0wI+ylo-EZDdd1ACQaaoY4pnNZ3bjsJ1e2J1RtGFIDeBIBoHJ3wz2iQSMUINHSPeqGdV5SGX3aKqFa8txXdQnBrxlb+rDKREfukY+pvJ9cHtDNvuIsfs2aVY6cZtieZoyeDbnY-AIBEEjctXPb1bzYrMLftY1pbvMH49aErfncnenezFnf8-ndcEPbIGPbU-9RA7ArC6jYw7A-i4tVVYy+4o3cw93cE-LawdaU0-OrJZVW5CBc+uiYYCs6ihs+hW5HSsytrbM8c+pdc9pZAZ9wgkrWQWSAVt0Ayqyuzqh0NzztG-a5Ei4-Nu1pMrC6VRPLG9rYjYi5y6Fjy62+DhMvc929aEG5RG63TTW7m+7rBV7uDkcziWG4GGnqYcoMFaq8mQMkqudlZQ7Qoaq8qEmE+7zn-ewU1S+6Fk5T+ZplB85l2ekEcqh4ZnB+05q-h-Jhh5S7PZR-A5+8uvR905kSB+NX6WSWZR6e+-Ye1SZTBhkDRh04OejQJ5EYutJ7B+x-xsZ4B8OeDjR4Bp6mCqsUB7J6FZ59M8x52c-C6YXmZ79dZ5Gol7ZBWZPlITPmtgJ8UVF8Y5l5sDV4F6FjR+1iV7fnV7cER9+-1-WfFc5914mm5n2f5-dRqcF9e+Rmp4vMJnmaHBV658-BPql4R815abp92AJ9n2ViN9cBN5x5D8N51+h5ezey6Uk+k9k8VHZCcIuOINvqTnsucn0Y559TRsvbVfdcWhTXYdmm69dexutaRiNXoF5GrTrAsX0GrSgpz9+DPRHFnghA3TRwkBIGb6ixR0PRmDXZTy0pGxVAQ-JHVt1fu7EYkYsIJOgfVoJN47LN+bwVjHr4ZFCib5b4nHvCizr7+B3+iwubmjJunl4x8FWBTr35GCOCCXpokAIHj3v8Ssf6aOf8c8-5Mqe4TuoKV5QGH4T6G32dh+Qu+owHvoznf5D8CgI-NDmPzMwT8WWKQIrq4HwBgD1ALnG0GhwAbmA5+PcGoJYgHgElgBFZY-g3wJjRYl2urSgTv1QYDlVY1-GhinVGCf9lIhA8RsQMkYtZ-+lqdBmh0wHchc+2ArGr7TwGr8EKJZVQE20YE90RCrQCxBIxVAp0fc9-SZvtz65m4Wiw4HKKMHwDKCeB2A7ovIOjwv1PoHgAeFKjZDb8EU3YGvDQload8ag0WUHIdzFQy17KHgWuEEG2D6Ar4HgsFF4Mc7bp9A5uRyg4CVQABycAKBHoCLJVAbQXwR4GiE4ZVyXgqgkEN25eCWICcLkDUG0BQhWA5gddNkPJghCU0XrfdOUODiVCseedWoZanqFi9ihH+TMG2iaFuAWhWPR4l0M8GCwlU6IEQcEGKHr0OwdaA9B4MyH9Dx2Xgw-jx374uCVAZ-WLLMIqH2UIBNgcnG4niA7CmAYcQIdMLsQpDtg26aoaQC2FlkphxwvUKcO0DnCT8xuYYQUOCCZhLhywiAm2H2GHCuw6Q7oeZ36Ai0gOPw6LO8KWE2D1+W3FoR8MhHRZ0wsI2eFCNqEtCBMmYH4d6F7wIsgMPwm4a2RmHrDuKXg80koEMC2hT+2ZHQNEOEj6Boh5gaIUHSYB0jQA0Q1GMyJZEWJmR0QrkOyC5Hk4qglgaIQelyGGwthd7UkXbgri0NLAtQLvkcKraoiH04IakR4H0AEF9AMo0bOyPKE9Dg4Yon4axQlHkj7BypBUYHjFHSdSA0o2UdsCYg5DCghIokamU+qWiGulI7QNENdFcj+gRAAcCYC5HVg1QWkNxFyIeShjhwNoIUekOJGfVrBoxaLMKGiFxjvRXgB2CJC5H3hKAvtegFyLOAk1vR94UkTmOFH5d+hMYizkwGoBDgRICY88NEJHBVj7wXIoLFyNkBRinREEMUbaESD3gUQ2I60aNn27F94uio5sImO7EOECCro9UZqNnjaiRx5olwVIANENigU94VdvaItT6jdhgbbEa3X+HQiHRjogciKL2gWj+xGom0UOKaEtCrk7IAoRpB6y7irRl40bPKKdE50QQjlV0QONnimighuo0VK8HvEkQnxiY6ca+LnH-iBhh3H8ZBKUDQSzcgEqtmKJpGSiu48Ekyn8NaAtCshx4i1KOJBDASHxcHeIF2Lwo2A4Js420XiNFQEj8JSEzYUuNni8Zum747IYRPOhUiWJYmBePOJRGLibBfYl8dRJMqIS5hgk2eOsBqBchfxNEg8fO3okMTmhTEoSXGLknXiBJGuDjI0RIlMtVk6k+CexJPH0xQBNXQydRPEmHizcxE0CSxUTFxiZxNo-iXRNLGtALJNoqyQRLcluBUJqo9CaI0wldg8RuE6pspJwkuVbJj4lituIOE-AZJ+4s0XhPCn6pTx40MUffyKH999+w4jiTiERFJDSU9-BSesJaGH0UgNA5iSkDQR-8AJJwogH4KKFPD6gBU64SVM3EpoeJ7U48UpJSmioUqtWP5lHwt5hp7qn1I+iQQ+afJTmecIljeR-rhlNeGtW5p8nUgKtOuoNZzqqzc5xdg4C07zhanwF+cNiuUr2mAE+K8BPiTbAlLyDUBlgExYuCXJtWkyy4fJ8XFgq2XAbPSZci+XVh9LgYphDWy-coVoJOlHh8AnxAQFdP6FfScskDPPG9Pi63T-G2XPqQl0kKIzPxJwd2n-0xkJ0zBQsQQVDj3a4B1k10MmatQwyUzmM5MqmeLS34n98qxATflsKyLo53BaM4IdgAynZSdAiYlsfSJ9F+iKAfIgUc2OsChitwLkj8F4OiH0BCx+gHMfSM5H0iBZLIjcJGLtEeCEBjogAAw-socFrcdkbMtQmzyYJcIAA","body":"function analyze_assignment(component) {\n    const symbol = assignment_symbol(component);\n    const vfun = analyze(assignment_value_expression(component));\n    return (env, succeed, fail) =>\n             vfun(env,\n                  (val, fail2) => {              // *1*\n                      const old_value = lookup_symbol_value(symbol,\n                                                            env);\n                      assign_symbol_value(symbol, val, env);\n                      return succeed(val,\n                                     () => {     // *2*\n                                         assign_symbol_value(symbol,\n                                                             old_value, \n                                                             env);\n                                         return fail2();\n                                     });\n                  },\n                  fail);\n} "}]},{"tag":"SUBHEADING","id":"#h6","child":[{"body":"Return statements and blocks","tag":"#text"}]},{"tag":"TEXT","id":"#p25","child":[{"body":"\n\tAnalyzing return statements is straightforward.\n\tThe return expression is analyzed to produce an execution function.\n\tThe execution function for the return statement calls that execution\n\tfunction with a success continuation that wraps the return value\n\tin a return value object and passes it to the original success continuation.\n\t","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":9,"eval":true,"prependLength":669,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABJ93oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWIx3aumtUG0An3F0Mvn2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTquWsnTmoGoWtFSWs6u0ES10IGmGxMItzvSOrBROr5DOqLAur+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjzBqms6v6r5EFJf1kEmv2vwDhq0lAFEwsSIDBkIDcX5rqE0Es1AAABIAAdaoCsCgRWxwWQAoKW-a7QEyJTKG9QQGGGisuWd0aXbYTW4iFcy1H-Dqma+IE26TVmwGfa1wJVLkSa3m2arGwGDGzmLNbMbwSvAWnBYWggUW7OPBWHaWuW7rJWlWtWs3LGqPNwUfHfQ2DfFDJgsCtoDzUgUmo-KhUo+oIBfw03MVTlevfwn3JVFOo+FIKmpC1OqVBvdOzMAukQT+BShmdMZurOoQ1wRO-mz6lu6LB0368qiUcBeOhmio43FuhwZ7W9QU4sgslQM7a-TMae8PDwruwavGkanmW67UVRAld3UlXeufHLd61oAlNYb60lYe7YE+o2m6+K91cetRF2y2t2+a54jHK+0gWqqSoXZfbW3W549XS1WfTgo2zA34FfEGis1vd++IBe0su2l+sVAoT28mOOnGwC7elVUg4ysavum8o+kgwMSLTg8+twS+6+6FXBjW-Bz5dSENJ+6NWB1+pm12yGuOvW4OH+iyMG-+6BoBgkjdUVfAT43gT4h21wAlXkNQMsaLNaiXTa6TWXaR7i-VFg1s8BlRmXRfIRrRuBlMThgBjBjRkywU0RtwcRgQKRjRi1HRnLSBvPdR+x0VORo28wVxtx4OQxnxoWT6d2kyth-x1oAoVB0VdBqSrB6fcaW+i8mOdOaRO65yi+z6-QGh2+njRJi6qQTOf1QeVhj6m8sgTJuhzuJJi8qu+uYG4p-oaFMpkq8q7JtOXJnuGoSxAea2Nhz6N+iG1m1q0VDJ3+gRqHHmy2m0Ih6gAO4GUWpQOEUCSWoLBM1QApiKsVfAVGQlLkS4XwWW+WxWigRwTOGWsgSwEcAAAyNtVv-szk8eEZ4ctWnF3UsByjud0wds5VKZGd-XBpZuEYdqVVkBED6f+fdrbusekJ9o8CmcFsDrmYWemfkCyEr3yYeSUDmhaWiZauwcVC11VGrVFjBiTTxSyWRGqYXk7Ge1kAao+VwRzg1tuTorMeDjzpZaFgdLb04gJaxmJmJfZdhopoXgVmURSBJefrNo-CVX7D5dSXdWe2FHvomUlm7TztxehjQkcXwZWqRz0xTE5ff2eNGE+K1bIdUG+IlHANxficUUIYJRamiyERETEWpTSZvLMxDqeq5cAhoEJZPtClGjYYJVNajFUCeo1fVBDftBWo9YOyDc+q5Eacuu0EDZctBatoGcec5kTZGYVroqMuVljdy1ACjdLOGkOqks4a8ahxidc3GmUDkjeVCmBazrlz+Yze1qvkWhTUnvqBbYYEld92Zqtu0DZc7e7UzH7c-j-o0fGemsmf9qFtmayKsEkHDoOajpEBufMbeRQazYHIbe7jjVCnTCnYhYrNGdCaPDnYXgXa0zheXe8bBXwGnW8FtAHjFrwQsE+32cjqOYbdOfOaYCuabe3avdaA1uPdZoRn3fA5Mc20g-kGIs-gFdCaxoRlQ9juzA9qfdrdq0rEHGrRVT9W8rDOQ-bY-uhv42PzybYu0NAp0mexMaAto7vPYt0NRqbfPY1xau7QA1CGfR9LrBcPWY-BLoIyvTDLsGwotVoqAyorfkmiQzKyIqfeDibcw5rZozWEd0U-0PPZTavR+navUBGHBfZrNxMYNrxEgZamM9wR1DU-Nw0wvO00M+yns9M8HYrKVSQaaqc-BdQ7jsJ1e2J1RtGFIDeBIBoHJ3wz2iQSMUINHUI+qGdV5SGTraKtwbS-9SsVJaof7qTb+rDKREfu6bqaiyncHtDNvuIsfvFaKbJcZt+eHco7ZrOIxwIBBcvYtTI4eY64rMPabY1pburZ8Z6-scQ+GnQ8GdCYI7ICI5y9I5MKc+4o09E-A9hoQc0-A5m5285kC+xdOtaUy-OqaZVW5FOgJW+YYGq6ilq+hW5HSsytvfK6a-Tba5EZ9wgkrWQWSAVt0Ayqyuzqh0NzzsB5e5Em84v21pMrU6VRPKB9vek4m826PCrdW7FQsYG7R85l+5RG63TSR6h+7rBV7uDkcziX+4GGnpCY-AKGtfKfy4nukG6uSf3upey7Z6peDmlewU1VZQ7VofO92vld54csu8F6Fk5Xiccql85j56W9xTF+l+F8uqV7lZkT4+kG1SZWV616F6yd1+SWZRkDRi8v192Gh8ds-AqYup59V-ibt+dnl4ZkV4Bp6mCry5V85hl655ZmYYd4V8-ApcKd2E55F9D+iiFZPlITPmtm1-Fg9bYVd-Jj95F9tbzkT+1jj7flT7E7V-xpz9FZqZ97d4mm5lle95kSxcN7oeRjN6qdkimgT-F5ldBk1-D7r5F5PqD-L6tAYbz6z+7-V9n2Vnz6PCVQwK6Ui+i9i8VHZCcIuOINvqTnsucnmZd81g4e287bQyPBcqydmg+64ZxdiafnrtjF5GrTrAsX0GrSgo39+DPRHFnghA3TRwkBIHv6ixR0PRmE04p4tKI2FUAp3JDq0hG1PbuKZw6agQB4BJaBurQJJ+cyy1rPBFfz+AMhQod-B-hOHvBRZ6A1-LAdFjVZzQya08XjD4FWAp0cBIwI4EEnpoSACA8eWgYlXoFNFGBTXdgcE3phUElAFeWgk1yf7Ow-Ib-UYB-0ZysC-+BQAAa4yAFmYQBBbFIPt1cD4BhB6gYdjaFcamMVI3WaAb3DgEtZLGTnQgZgIRTRYEOQjUwTfwJgRNWyqsSgbkxTqjB2BykKAe0yoEWE7BFqKJquTUHchN+GgrGr7W0HICEKJZVQOo28G91e6FiAwSqBTo+5aB7LbHhsVAaioWiw4HKKMHwBxDYBGg7ot4MoIv1PoHgAeFKjZBECEU3YGvDQjyav8ag0WUHLjzBQy17KHgWuEEG2D6Au2LQzmG0Ka7bp9A5uRyg4CVQABycAKBHoCLJVAbQToR4HGE4ZVybQqgn0NCZtCWICcLkDUG0BQhWA5gddOsKPADCe2J+Y3G2mOEMxThBfPOlcP1Q3DJ+EgJWB-kzCXD7hjwgvo8XuGipPhTw9EAEOCD7D16HYOtAejR6rCfh9jNofgJLbf8GhKgEgbFihEfhNhhsUQTYHJxuJ4gWIpgGHF6GbdHhHQogF0O0Dbpe22gUgBiLLLgiIRdiBYdsHJHnD6gAInYcEEzBUiEREBNsLiPxFdhlhbgR4TXl9ZAZeR0WDkfCIqGoCr2jwzkVKOizpg5Rs8aUesKJEPpwQmYXkd6F7wii1AvI2ka2UhEoiVhqZdJh4EMC2hiB2ZHQOMOEj6Bxh5gcYUHSYAOjQA4w1GK6LdEWJXR4wrkOyB9Hk4qglgcYQejRF7QMRtHJQBaNaYZxLAtQN-gSI0ZqjmwwoW0eaIIL6A4xo2T0X0L+FCwIxvI1ilGLtxYDDsbjPMZzAjHRdSAeTLMQmINE+MjRxow0aaJvLVjbu1o7QOMPbE+j+gRAAcCYB9HVg1QWkNxD6IeTjjhwNoEMcsLaGX0agoxRRueHGHlCuQvYrwA7BEg+j7wlAX2vQB9FnASavY+8FGP3GhjMeVwucZ9RHDUAhwIkJceCHGE3igU94H0UFh9GyAZx3FMMeNAjG2hEg94FECKNrHxjtgiY6ES5VTH-iHCBBdsRmLrFKAcx-jCsQzALHYjIOt4+8Ch3A4oSeKDQqQIWPbGt0BRMowoM2IHI-iFQVY4CZmNAkWMrGLQx4VcnZA7CNIPWUdjRIQngSKJ9MT6I5XbEgTRsypRiftVeAsSSI7E1MXBNonZjhJDwi8W4AEkyTZ4ckisrhNXIRi7RJYruMpLAn8jWgjwtYeRPklNcxJrEuTvED-F4UbASkhCSZQbGtCyJxks3JROeB-iUgaCeiT8OTEnJHxs8XjETSQmqjA81EmsbpJMqqTGxIU-CauMEn1iSJUUoyc5ItSuTxAEY2KeFO4mkSNcHGRouZLzarIMpXE-fuWN4kphHKRU0CZFJwmiS8pEkliqmNXHwTQJQU34QpNcCVShJ349qRkQqGRjoxFcOKXpKYgGSR8mLZKYKJcpmT6pwlfCYWNXHESIJSUiaW1IggRjaBew7-rgIYkiTWgSouYaSloEJSoRQoz6v5Kiykp3JAUylg5OQn0iSRHgPYcyMpGSjlRI03MS5XOnHTyJTYlaaKhSq1Z4mxfXWKXzDT3VPqTAIrs03liB9JYPTFMCf0zY48Ke3XX5oIzqB7tkZzOBBgjSZgaYAGvebDtxzw7YB1k10MmatQwyUzmM5MqmeLQwE2CGAehdARiKyLo5mhf0xyetK2k6BUx74x0X2IHEUAAxQYt8dYHHFbhWpqI7AOMPoAnj9A+4x0d6MdH8y3RG4ace9M26yDjRAABm45Q4cObjQ2ZamNnkwS4QAA","body":"function analyze_return_statement(component) {\n    const rfun = analyze(return_expression(component));\n    return (env, succeed, fail) =>\n             rfun(env,\n                  (val, fail2) =>\n                    succeed(make_return_value(val), fail2),\n                  fail);\n} "}]},{"tag":"TEXT","id":"#p26","child":[{"body":"\n\tThe execution function for blocks calls the body's execution\n\tfunction on an extended environment, without changing success or\n\tfailure continuations.\n\t","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":10,"eval":true,"prependLength":667,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChsDMBXAOwGMAXASwHsjQAbCgZzIH0q8XiBDRxigcyIBTACYAKRgE8AtgCMqdRgEpQAb2yhNoAE5CyBbbWlcADhJny6oALwA+UACIAVN14DhIpw4A0oKXIVlAG5sAF9cEFBCUkoaRijtKmkIGHgkVDQARjQAJlxo8mpaJhYyLn5+URYGZjESJJMaISIyXzIACyFS8pV1LR09A2LGFhMuCm06hqaWlQAyOdBOrnF66UbhWZtra1AOrrL+EPD8YkKaUBKGMiFtLjop9ZmyXo0tXX1DS5HDypFqphkR4bZqtRzXW73BxKY6nGJFegUG53OgsABu9wIQmBz16-Temg+QyWQhWYjKFAeaxBsxhYXyZ1iRi4AGsuhCUWIMXQsa9+kSvjUgQ4OVDfNzebC4edhiwiFxpNjqbi1ASBp9Zb8qkKcZswQ55YroVKCkzQMY2XKFdj-JY+e9BoLAWIDdafH4LAo6SdTQjbQo2BxDUrpnr7YTHbRluIKVTQ6ClN6GfCLiUeHxBIqWrqE6r+ZHvt0Ktrncq9b4HOn3FmyMb6b6LlXM6CWP6408w3mHRqSWTY2Jo+Txu2aS9E0mG7Qm0Qa+jMV0hAAPEy6Nw0HNbPrd4mD-v9ssJxMmxkIkoiIQkOhcO5MjcvLsRnslLX-HUHloV+pEZhcFosc+XteXBMtCoAAD5gWq-RaM+5R-ACtTvvqGLaBQXCyHQXQAVeN5FKBEFQdBhYvghQJIRWk7-heOHAXhSbSma2FAUyraeiOKpbo+xJtoGVqKgOpIxsOd7jrCk6gExuE0HOPILsuq58OuSHhuqO6CUOlIaexYZHvSDEIhaXRfj+f6SbR67BuK84sEuK5CGuRAqQKtA6g4xllKZ1HMXhviWaAEpyXZDn0eJVwKrIIhcDZ8n2YpRAiQ+qlfLBxavqW8YfuC4WRdFQVxXW4TiVecg5WMdyKsirEBIoCWcUlzJmDx7B8UIvi7sJym6YVJ4XMVEVRfIIiSLVarOb2QmafuGVjiFPXMpafU5bZClFGIZXWsijC+INkhOQWrmLVFy2xT5oDrRVtxbaAO2zSmsqUWZt7KWoACQ+L5k+PxwSWiHTRRc1UYBUlEAV+kXA9XnAy1I0fcSQosLoeB3r4mQTnNUQA49RSjEBF3aIwMPbk6zAI0ISPkaAORo3dGN3YDNEsTthNccTrCI8joAYNTMq0zK9OlFQLDub+rDYcz9XmqyRlxB5ouQ+Z8WEURWgQ0DCvQ8p3hK8rksLdlR0xQ5YjazrKuY-LLHnXol0iVrpv26rDPY0znW3TzJTOa2ZQ3DWzNjSl8Fvn9jiez+PugqD4me8dRvPZxY3tZpnXHjTJRfiISJFPc4v+19qWkRzbk0BnTL3LlK00PhkH28R31pb9Hagp+xeZzQZdh0INaR+j6et-KqJ2RnJDASGjebgSY3w+zFOo2JPct6XqLGUIACOWLZnHE-7YCpPk8HVNzzTveLyw9zIvKlBoqPo7hpPO-T8HXMp+7IyMKv68kDaZDSPe8cFgHP0gTMB-hWN+a9mif27jTMBH8ugdxrATYBv8tBbx7InB4SCupg1oHgCYJN4GggkN-MgygHwJ3Ukg4I9Z0arlYAQloiDiGkL-j2fslDuZmhKJ3EwZBJCtnfhAr+P9mGoOJCUIgBA6AYKYRw08Iwrz4O9p3Qh7CyH-xGBIqRWkiHCKwdgwsGEqAkBZDndRRZA7pTHvqQxxioE8xsSyFgLtpp7TQepKaVisHiUMk4ugRiTH0N-qNbetQHAOPdIEt2nCRhUBMJCMgVBtBCySLICgF9Vpxzeig2GyURjcG0Hw2J8TEnJLkGkhWCUCI1xKKk+UBS2BxJvCUtYtSKnKUPi-TgdTCmNOAs0lJ5SnouNeu9Immo64Fwpg4fJPTilJJaYMuiHTolOPKfUopTT5kDPSUpYZqgsmaGCZ9cxgDC6tPWb0hJWyyk7JBrIi4Gy+lJLbKYnsU8yYc1ntQmmuD8asEeUQVYeyjlw3vh8imB9vk8zfunBpkJAWvNBSTB+VjfBPz0t4qWp8TAmAYMPW8lEY5xV8NefgBBZxEqKCInJLlnSVhxXihWPgTbK0JYbYloBSXkpbJSuIUSESPKuaU1pLEEnYtxRQfFGTgX9HcqAQViSbDysuSUl57SQW5K6deWZmzhWLN2Z4lloAAD8usuimAlVK9cPjgxiAVdoJQdsa7OqIjqX5JMAVAs8YmI1AAuM14rGW3htdaO1KqHVOpdVGxEtR3X-N6QizWRro2mxhcXOFdxE0uL0aFEYFqg3Ss8Wo45JEg6oscPmyVTL7k4IBry+Km8xnjW0cnKFZpSXlxOnEP2BZ0EtuzfRSIk54h4ESMkKAcBEDIHQNkDAyZOlkG0AQDow1FyuLESMeQChSTxTXaAI1prFx+tALcRIkxFwVi3ZhX8J7lwXhuCIXwuhP4UCviIOxKy8D3CkGIPdqgJYAEJiJLpXb+mEoAfTox8ZONauNrb422lQIavhmhonXazF0ypiD-EnO6K2m1EPIZPUQNDyy5GlMaNhlgMG8DofGfnN1zcnhUdwzW3mls4ObTELRtQEt3lIzwCjcDkGfkAyZjx-9d9kUfME5TYT86zSEpIxMGgvsJN8bBQJtF8n9E+M9gFKYLRcx1Sk8KfT853RfhuLMMjqYRjmdklyecdHa4MedAFCsDmsQfoRF56WRnswBRc32oL-KLgQL8XwIg-AbLKcSDOQhqG8RjX7EloIEGFMIjjdR8q2Iku8fIWSNLGXsByv2DZdYvDYtohUwlloSrNF0BCLprFo7Q1tiugFZhEsxgTHMNVTr85gglfEm1xUVVLAEzG0IZLvb1LTZ06N3LMksRTdy7N1hwkFvpZEzzJc1n-iodq77DrVlFDbR4AuEjLnMLRY6P1ybKgdi7Fu-we73JlAHrOuMSY0HcsPcCGd5QF237VaUMe1792OsqAADz0GaG99oTnFDg5rqa09iSXQJKoJLIgkhOXaDJQgvwBAGUUFEP6hwoAADU+6U1aGYKhaLFA8DDWhzTxwFYOfJuVoztJ-AWfDQ+z6mu-qMeTAcNjqIQgADuBOiegniIwUnEqKeOG5-TzQfPmes4Byjjn7oqe0550RbXAvdfC7Cy5KgVAWSk4mwGAzbYUPXcSuJVD1QbdmHy3Vfo4lGDD3iqd-y36VI61znKSRGC2Kfc1ya4jaJPexLEBFqgUWYtHfi77JLqPNf+rbNsXYg5ocm+gqawcwvS-9Hz4H7R0O2jCUtyEHW4QdYs9ACnkjhe9idAqzwvhmfVPGeTeLvXFZiDyGw6AYMdYW8nsUEIRKOs5XTaVdl6bnfSPJrGgH383Hlsdf39aR1CRrQrfskfxUukW9qlb02j3fjk9pYxejacDvURO7Ymdl3aG3fowf17pvmHmbNArXsHsLkvsrBHo1nrrHprujiRknt7qQJFvztVsdoltdrnvTvnmxN3sXjHtgSmqam-KwBXt+mdkQdGjXnvmwoQQ3ppE3trKEHTsrO3pvt3uVtwlVoPnVkEs6qPs7o4BPlQFPsGKAAALQSGcpuDNgtCz7KwsFCAL6QFEQr65Zr54KsAb7P7Oo7617Tbv5rbH6+CGFdaX4zZ0g379B34sy0AAFP7XZShDpzQjpjopCTrpAzpoAoCZZ2ajCoTSCZxXzUZzTcbEAuYAL1xAjRAVgrgUBBGXxCCgz6LxGJGvpdAJG4rKItAVLRAbZqR9hbYRE6ZyppHBFdDDpKo6hKyuTRjuhaDRguqOq1F0qxgNGaCxjNGRr9CuS9baAdHfYTDdGtGhJCiDFCgjHKyuTiJR7uizFSL2wtHTF0oZyMC4pcCSDuhrEbH46mzLGup0ri4dHi7OoHHQSuTGAdCnyyCMA+BXHtA3HxA6znG9F0rU6DFaC-q+C7Q2D2CLgc57GvFaCuQSGfGaDfGgC-F2CgAAnSFAk9Egl0oSEzIdEAn9AwmaDSHonAmaCuReC+BESQnQn-GgBOBQmaC4kxrCjADgkd4XpQlPaklgAImjHCgACkdJxJTJsJoA7JFJoAVJrkz2nx3JfxvJz2jJiJeJdKAGOwopDJJJvJcpuwu00p1JLoMOXJipPJAJcOmgapbJmp1g4JYpMJepuwUpRpDgtg2pPxupoA9gBpQpdKtgJphJ-QZppJbpzp6prkAGdJvJGJTpoAQGmga6SsdIZRgRFRoRdMHWNgaoxgZg0Yvg5RSRcZMoVC0ZCRsZlEVAsgAAVvevENYEmaYOEbQDCX0TGUke6H2vkYmOqWdLWRkZmUyFQqVjLC2bmRmcLAwtUc6K5NhmTGkqIO6CObgh4FSXHisaEpAEQFOUiFsYSQuUubwjObORcXSg8SwLAJAB0bufuZuVuUiaEruQAKKDGXknmnkakOAAByXAD5dJT5D5VBd5-QUZ3Z6ZbZ-ZdCMeiZ-QyZdQ4pg4JAJ+v5IR-52ZP5rZ0FMsIs5+pZ5ZZgJAYF7iHUTZPZ6RCF34ssnZ4k+afCUFlRYRsR8uQoLmxFLAaSXS542gdAkgaBhZXAGIAeqEPCxs0apFtF6wmENYeRERJKhOVFz8ZopB9uvBvsLm+2zQh2cWQ+2YFq8la08FZF8ZMezZn50EvF-5Rht5ceKlCKvF+ZRZJZvgVeW5eliFf4XWhlmuXBlWA+ilfB9EZWve-AfisgZc0loISqklJg6BWehCdI2ALhd0bhSQHhaQ06mAOA+iaYcgtUREGq9GFiDco4FYlaVqdyoACwrBps4ioabKeUhaN88wiwRqTUQYJVda7K5VuIT2OwFacgDgtmU4cgQs7QVAkqF+jaTaHa9aBM6qu27a-ckgAAXuyEiJCNpMPjSh3qhr4MriQJ-KIKYcOEyaXqteteIKKB-vOLbFEFteJQiL+PcFNV0LagNXYUtSRitQQGtUIBtSdZSNtS6rtS9ftTbnbkFTxJ-tVLxDdS4tpTpcrElmDTXF+u9WdY2BNdNdUPrJ2rHDKloGUbjKWfQMjfhrcEYSJM3ujd2bINEEqhdUxdNWIIdE4khsNK2otZvo9c9a9TDXQB9c6l9aIGINBmEedFdCTcQD-g5TrKzVbpygjXAgIqQEIiQipP7lLZQPcExWIFwNtMAXdYzSTszY+m9WzeKVZVwJrVZZoJEF9bwKAFZmkgQArFEIqsPFIvzqAAACQAA6Nwi4ZAntqgXAoQTtxtHeUUHmutVMfx-tmgHskY5+Kt5+H50aJBT1e10dQdrNVMYdoA-qsgmtnNOtKdwt0EQ6w4Bgi+ltEiNteAdtStjtrt7tntZA3tvt-tothNmgth7GCIj+Zg6+gtAwJM0Q1KUBZiMBtCcZcBLqpqXdRApe-qHdEgCtaEUiw0E9bU6kw9fdTZadewwkq9xAygVhWgrdK+O9SqIF5NV1K1MizdEsCxDwa9hVOsCBaI4pk5Y5IgEOgBg4a9DBN9O9Oar+Et9M3kBqN8iUcqBeuwWM0kaqLil9cqaIpNuwp9lNEDRA5+KNcUIke9Gty1Wte1m171+tLqcDxAjNxtyOeDdAIdMJvu9Ob+ANR1Qh3IQtl9muO+Cd31Ygz9Hg5DkKmuoQUNrKp1L+NMiD5qshfB4soDeBCDYjs4UDniMD3ZRDVZ4tl1lN04s4AUaDjVOkl9Y0WdbDLNW1odhD0QJDmuZDwdPJ-6LqkQTgmQTgG9cqCg-wAU1Rv19udDjmzuG94NAhThG9tDbEUdDD9wTDG9rD2tZDPjUaYgVj+dYATgOQDjvjUagTQNgNlg-DKTW5zj5+ll2TBTmguhhTpsY0KdsTzDJToQmD0afDxtTdQjPMIjySgKfc2cccqVsqP58DKjFNIYrTJ8g8VaNwGDCj+FFtPTIjhmJcWcS8cQCtozaocqXAkzEt0zbTqIZ8tw6SV8izDN2D2d5D7NNcJgpjy1xtptbD5tJd1timiqQgEotE0WPei+Qz+Ki+FzYACS8qsgFItA1d+2Xtg8LtJA7Q14AABufg3eY4PHk5Y8Y3Hs+CBu0MNLC0FnfcQRM8QwcwYzncOKnbOf6is9iw9Tg99dw3nVoAXZSEXRbTQJQKXXc9oCeo8wy-wC8y2aIMM0IC9Achiy6g02NX6IHmwMugA8DCNWjXdSUDAoIiJF9lwGteSpIiPCrTivJVkzXI1pq-bCBbvig6IXLGrB2Tq59VLZ-F7CPAghg7HdXoWMg-K2jhqcg+-hg8eo1nDVOP-aHEor7LdXS+M9oKs6o9iNHA1UA01bowWPo9rUcwizXEGyS2iKaxCYw-C3YGHdndzVin5sjifrnSm7rWLZUKwKSgTMS9+D-kzbg0W7xtBGlYWDARW6PffWS1zdq0W8eoOM20oGY5+Zc89dc-S1bWXYqh0EwM7W7YC3XRW9C5+SrYThS-G5+SW6fITgTP2D24W5rucyU-0AO5-EOy0CO0y9E86pEM+gYHwFfBbUrXsDjgCx7V7SWyC2C9oJC2W3O3uwHeu+Q1zMu9+1m-0Qu-wCJfwMDme1uazVzNu-TgW2e4K34fYYuBeMuuamTrlZWWB1dIc7WyZmYqZeRREV9lmzRYR3dFh-LhB1B1tcemnNMCxkR45Py2Xm3dJOJhEdxSmnJYCsFUpTEQDLjfjJWZS7OWW7BymkpjViFdmI2Sm2IDtKTMrnQGCLnQQ5rlmxHRqFHYp6uJIveJB-Hn5i09ZkCLp-ZPp7a3Hv6pwxtYZ-B3B7R6LietoGepR9MkQCyEQFQDLrWjTLwnEpIbeqhzcIGsM0so0+NSG2F5h-6yvsG305WXzPWns0TeM828fRWSI2B1o92vTU2jGzW6LQByLWcw9aQxRWpxm7Oau2WyrX3fkyk7uykyB1dNB8c01yhyQGhzF0JUQBJwU+Jyx9+-bIc4Z5+e1wNwI5SFTIW03fukK-DdF+FBI92SQH3Zl2YNl5yl1aC71Ye6l1g6S7h8V1Q6XuJIunwsIB7XUD1X1f3fTtAVHrd-t-ZFZ-TuPcJO9ymv6uBXd4e7281yN9BGN8D0SR12D1oJd3KPti2v9299flGq3QmwWND9d2RGvZU9BKEJ6701dYipqgdY6-bKas00T8pHRxoqGhT0680yDYas50lZnTTyT3j4jStyz6bP6mmBh20i4gq--TlXzwz-bNzzEuGnqrcsT6bKT2s-apL+rGKkL0Mt6pTy0zM23PNbMAL9F8fLM9LzrGL0jSVAbGVRG2GDr308b-1Llw2vz4z6-Oa9fLiJb1dfwuAtLbPR7xa4EpK6rw774v4gb8rLL9Fw4sH0REbz61a4Qpz62809H+HBvPb6L4WI7IA3b54ny675TY7ALC0yZEa1r2OGrw63HyH2z1hBbNowmGr+o7HynzL5X6fDIw3yL1zy5251MsQF5z57QFILkXCdISIykURXIA8+08HDi7G3h504NWs8pIV+S0W7j9lowAoMuqtGkiYMutReP9yLBvjNiA4P+kbpcEQDv2QAbhBtCNu+Vl5QWb5a5TWNuxY+j6fCp9s7RFfDyYw-7bE0-UBSjlpyuPJWq2A34dkxA2-XfolEwhX91+PIDsg1ijxBAXoaoUKEZkMBlwZ60AsEB8AKTq1LgeADvLgO7wOB8BWxQgYtQoEVNmC8+N+KoWghjRwoE-B4GVDfguhT+HOUgbTipyhBb+Pje-t5Sf7Sd+OU3SICwO5BkteAPjN-vtg-7nxv+M2cUtQy3IIDN+cQJVMBzTbqCOyNTO8v7EwH9wkCLoCge6Hf5bMsBSRfQbw3EFgBJB9wXWkXVkE8lbOr9U8jYJbq341QaSRQaiBnql5cBOrAAWdzjw7Erww0BwJEF8Ff8rAxxTwS3hqZjRdAV8I-hIAgFUp3K3ZQgFIhxhH9mWuwKnJD1Ngu19EugNeBMGxAmA8QxQnWKUMWpAYTA8eFbioH9QABycALREYC4JRAAwCoboDaHpY7ypQlgrUN8alDvEncWQLcCgE+xfAf6MYZoHqFNpr6YGRYURGWFERTUjWdYc6k2HQRuePsfAupD3SLD9hWwoMrsPtjnCDh5oKYTMNmrSAv6YGcDN+xGFXDhh2AOAaAGIDsDehuwD1h8K0ATD0YfwlgDLkSTiAIR2gaIjUJG77DyhBASoWICAyrDfh14N+CICPDA8ER78ZEaiI0TPdFQ4-SYIOHRFH8sRzw6EbCNEjQR9hK+UQrx2pFKoyRF-DEaIFeHZN9h5IzEUqn7A8iORQwsHriLeTOhBw1I0iPm0ZH-BqRnIrcu8KBGzlSh0ZIQI0D4BICXszoNoXZBMBtDfAbQ8utoD1GgA2hCSY0SaLSTGi2hsgSQFaJlxIh2gbQ8DCCJphgidRaeDZqMHaB3AOBcI8YQ2x1DajdAJgCQiYG9GXZzRwoqvGCOpFqVVRHovQR6R0o3D7YYI7zsQC9E+jsQ2IwpgqMVGa5lR3ZdMd+EHK1A2hxYq0cwAIDngWgVolcOwFiiJIrR+KZsQokYBOihhhY8ZqkNuKligQbQnsZWP0AZx7IVozCOQCLrtj9RpIEhJWMwiqj2xzo8bmMK7HMACclAS8PZD7FiA2h14DcZhCtH7ArRXADsZ+RdE8wwRfAfitdUZGZjLsAA6xgUxFFIp+xV47IhIWLGhjwxb8SMVyOjHsjwRkIhdvuLe5JiUmKY02DGKAnFjd6Qo3MWEHzFx5zxZoNMbeLDFZiHxxQ-YZikkDTDooB2MQMWLvFvw-RyY7WMwOSpET0Jl2MCXuwgk1xjAuEuSARMDGfjqJP42iXsOXH9AqJ341qGeO4laA3RwYhMbM2InZjaRwI2-IhKjTPivgjEvCTx3ECXisimEOUGhL4mxM5RLqPMTJNkmpEAJb8ALJ-EwkriAxWooydZk-i-jIe9E5WKhIzHsTsxnE8GnZKIhgiex4krSXBPAkIS9J0aZCQiA8m3BZAXk0iW8PQFQZNiikj2qpU8lOTwpnw8PAWBW7xS+JLkp8f7QUnMTVKgYnsV+KzE2SdJgkzQGlKzEZSApJU77EfwCLxj1RYkpyVpJzFLDb8vLfyXJOZBMT8JqlKCTCK5AhTYJrkvyf5OKniQwRuAqARfxgGPiox-QAUSICVS4CfJ6w+kd2UslaDDJoIOVtpMyn5h+h2INEWyIpHNT4RDbSyctKBG6SRp9sdqkh2b7h84uxNWmkqgcQ00hoBNJZt2T8T20sa+rUVkXwz4EwboYzNca4AzAeAsa8MZqGDPcBc1vpoeEGVfwFrKMpmwMhtkv0Mb4NquzqZGSnlim8c-K2YeGedh+HygxGogK6JDWNq4d6mgjE4PxipqaZGZ0mJGAzIZlgDdBVKcIrkL+HMtjcRQ66dcOwDjSppQIQMUeP1FViaxZAO0Q6MPGdBmxwEIqRsOwBtDGA84kwFOItFEB5ZQgVsemCdE7TsmAgq4QAAZROceWboZytma4bZOsWeEAA","body":"function analyze_block(component) {\n    const body = block_body(component);\n    const locals = scan_out_declarations(body);\n    const unassigneds = list_of_unassigned(locals);\n    const bfun = analyze(body);\n    return (env, succeed, fail) =>\n             bfun(extend_environment(locals, unassigneds, env),\n                  succeed, \n                  fail);\n} "}]},{"tag":"SUBHEADING","id":"#h7","child":[{"body":"Function\n      applications\n    ","tag":"#text"}]},{"tag":"TEXT","id":"#p27","child":[{"body":"\n    The execution function \n    function\n    for applications contains no new ideas except for the technical complexity\n    of managing the continuations.  This complexity arises in\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze_application"},{"body":",  \n    due to the need to keep track of the success and failure continuations as\n    we evaluate the\n    argument expressions.\n    We use a\n    function ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"get_args"},{"body":"  \n    to evaluate the list of\n    argument expressions,\n    rather than a simple\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"map"},{"body":" as in the ordinary evaluator.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":11,"eval":true,"prependLength":661,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChsDMBXAOwGMAXASwHsjQBzAUzIH0BDAJzoGcAKVwolwA0oBkQBuIrgRIkGDACYi8rCgBsAlKADeoPfuz7Q7JgXa0KXZkQJq1fAVw2Gjr0AH5Q02fIU8bdsqqmi5u+gBcoAAWDKx+-MROPGKSoWHpYSBeMnJcXKAkNJQ2rJQ0oHhU7KBkUZagACQAOmQMAB5kndoJRAC+DWkZQ3p8nEHqAExaALwAfIPDw4wsHNw8ZMEOiRpCC4v7rim7ByeZYN65+YVExQSl1LSV7Hun+1kmJGZcFOIMBax2GpURotdqdMjaZZNEhRDgAAzYnC4-Rer2Go244zUGBm8zR+OyPkUPAADqp2BiRKsnMcCXSjCp1DjafTFoy1FMWfT2RoANzYXq4ATkB6iNoMT6tNgkklqCgke40HgCKlIqQ5XxYrTaNImMhmCxWEnsCgAWwolF+zGFZSIyuIzmGnguvj4MrUAE9mMazRafgxrcQRUqVaBqTtUWzgo6hpFLMxCqaSVRiApA6RbfaiFpIx4KkHbcwAEZUBQerMaHi5txgsRplIUdg0U1iMhZ4NEb0cVgt1rsXgCCOs-bUrnD9I2h7MBtNogtm4VoenHglsvMEzSNRkLFTUBzUDVsIu4nxvUG5jiAEEBgr0teje2Mg58d6Txn8wXq8B66tBer+8MJuT6HgckSpgweAUEQihjtywSciB+g8rmkQMOwTYUqGABExAANZEFQADujwFqKZAeiSfwALRihKBBSqw7ryoqRBYXyAq4Fkk40PkeBNqaEAwPASCoGgACMaATEKpHlPGGx0IwaZylwbaJsm0E3CItQBvJ2q6qY5igPGZKNjwak0K2WgAGRWdEsR+OZGlPnu0zTDUMTMPJ-KCvgMmGswcp9gCZlUEmFk3HpRjvv58mKQFliqaF6mtiIWGBWhAJsd5vkZqK6XsACn5qNeIVhU52pGPp+qGTEcTrJsjmWexPncbQpqsLhAb5cFl7FQwkX6NFoDKW2aUWhlahYSIvXXs10m5bJVhED2N6NRFOhVQaRlWLFijxSppXJZpoBYctLZZRxOUdqA7WddYK08FwHqmiWmgbVFBm0CNPCnStU1eM9r1zVdtoAy9VBqMwVB4PdLaHeFzk6h91W0LVfgbOo8PlcDrXbWweQUHQc6tljlnvYNn147tSkJaTx1YawBNE-OZAXYKuOM98zOtswT3g-Ya2I5tNX2fVmNo2LAtJQjGiy3NHNM8TNxFde05tMagHfEqgsDXoQ0Sxj9iG3TT6y9lIOivGCgSmo3aZjr5N65TcmsApe3fYLqXXCprDK9bJC2wVtpsaAAA+oe5i7bs0wdnsnZeJqsEWagBv7gcsSH4eRztrtxR70tOalrXMGndsPGz83XaXQdTnzr0m7rxiU3XENQzDZ03gbDUF018t+aA1csSrAbtBrBPaz361IxTKN2XVxvGzrZuXbjt3fjxGx+zbZdKh301fmrY9a9mjtN7P31Yd7m8sIPwciHvoAzSP6sbsfOP9-GtsvQorCH6-DwN1PkNKOedaZxzSj2IsP8-6a3Ln3BaX1IHQLJAVXsaFeaAwhrwB208naz3aiSR6mDIbQ1hgwEQXdMZL3gddL+UDf7-kAbgs+W1KFG27mVXu5tV4dS6kg3+o9-5KhQStPswhQD-kbkNC+dDoGCNgTQf6Ii0H9hEJI7hH8rDF1vgAnBABISqyMtogPdmAye24TraO3jXRRNDQZWIDjvTsHcmHCy+gldcEETYiDEnY0UDj06FmUUwNC2DzFSMpiNTxeBvGgCmNlXGASnHFjvK4oxhkokmBiXHHECT+4BM8lQBMG9fY3xtmkmeW017FMENfEu1iWJVhOEkmxziHo61ghkapsiBEvwUXaRCDI-L1Mca0rsqCQn9gbp0tkwydE0BSWWBuy8WqaM8SjXmGxWgswqSwwyJiY6JU4fTaKmzSgMBZhXXGpz5HjztDg0I+tRaL3Ce-BBeNrgKD9DQYKDz0kxVzqY2O5ivY0C+baQqtzj6ZwjsMA5+0jlHQsZfMF3zlqQx9ts1sVz+6fLRYVDWXyFStF2dIjxWTYm+Lye8vFELIbewYAAR2vAuP5eCtqZK8XHeJHFca0oeIVAEfZlqWlWuEx2ZKVLRNibkleayuBMpZXIR6ZBTRC0qfsnO0cEUqrValBVzKxByBxe8g1SqAyYoua2XgKk1UVT0I8ymbDdWm2pddSC-YWCWp2basgTgJVOtFr6pwbrQYbi9Vsq1NwbWqr9brIaxtg1+MWtOJM5FeaKqNTeJNAbZ7xgCPYJNobLZWFtlK71JMc24OAUtWw7DMZJreddeMycqAkFwrsvZALtX52Oci1t7aTXXQHbhRZ5Y2XspFvPDhSKVkW3KNUkdKrzkswiefWmWER3-QrRFDR7z4xUEokHKoxSXpQUafowxGr-LEA4F6Q9GUyAnsTEWc99txVZzhVYV9y12D3qPaUZ9oUf0XvCcWlNt6-1QwA0+9gp6QPvr7dqAxBh-lU0BYc2JOFf3-sfUBs9Iq4Hgf8iBqDD7j1wZfW+3R4rtAoYdWh+FvakWpVI7hij8HqO2OI6AcjgG4MtylkhoBkTyVcpBaAKlvL8mNilXxogDlaNuOGmJ7JEmeXs37gqz50GMoKc7ZKlgFKclNtBtUxispmKZmLlCh4qo6AEBZjAu5-rmGGZ+hZuUxLy4zInMM2zNB7OOZ5gFwQpnRR8dg5xwjCyn3Sks95iewnmFX14zBqoe40t4YE8Qhu-JGNWEg+x-j0XQNIdzJ4czTFEt2mqS4yLVQlwvj0N9D1cmAP6eoShG6vD4tecaXVh6DX2BNea612TLB5OKaQ75l82mwW6YKp1154WU2easzR5Ljq81atAcCvtqV1s1aHfY-zfS7mksDdOqhryeOrGc8fMJW3r1z3RpsF5SG53YC4n5Xi-FBJwEQMgdAEkMCV1BnJdg9EojljaGu4x36qAQ1iHaOHB4nSgDaN1tCGEeBtFY0jlOvsxSUXIDBJuch-QKBOyW60AInp44qkNAAhFTKHtRYd8lAKs951TWqkm7Co8R-4RApHhxkjd5lUzpg7EowXkzhd3lFxIZN-kpcKZl9Z8X3a9ttjwKCsK0vWo0-KMXYJYjlRM9E1Kil+vJNc55+64ZjC8BW-XTbrxdv4nc-B-4-zEhGzNhJq7nQXaVMe5iXb3JPv51tV66cp+IUbhkzc9b0aCevz-R-JZHjp5PrDx4E-bX6Ge20yfqlDPfUTe0Er6rbPC4i8idns6ovq3aBGrUFQb4RA6DTgD7OHZYvQ8Js2GL3kMfEkTetBM5IKvh9Xb8GPmPqXtKppJOmmcQebiZYLfyWPPW7p8QeoJ8RT9XNh5MhSE-+8+ohon-kiZGD+YDgmW71hosj8tgd7703j+z-Klf3n1nmNk-36nH0d1BlrA103yVjbGv0fnpzUUZhHjn1T3PjEDoFqCIWfxmFcmGgwKwN6icAq1AEvx4D5xn3gKIJ2AkWQL73EBjAyEiBTh7ywJPy0AAB58DWCohC96dGD0hPAccqgfon1gR2oiAPQwxOBgto1sgmJFBIgsJQAABqdHNEFSE0HvCgPAcsdg1Qk6VKAwwZfQTQqCOgHQ8saggQsIVCdCEQrCMQioBgQiaQhzFmfIaQBQhQJQ4w-EMw7Q3Q7A16f1NQ-6ZQtQkwvQAIiwoI6wvdWhJHXCAgEkJ-V6AvQTZXBg0+XGFIAKJHQhIfZhIZU1BUO0Kg-g0+dIGtawOtYIrBGwg4IQiQfIw9WfAOLvcw+gwPWA2fBgxo-YSIQTFyNyCWdgqIvMCWagiYoYsoyWeotQGkGoTYeIl4QUdIHQ0APokY9yEeNNL0GA1dKosIYQq-YhVKYgEsVMUADuC6dIXoUQRYv4YosIVLUAzLNrFgUAvo9iRYIaLgOY0AtIrBAAlaGgoE--UA5ee4tIdYl7PIzvNosfOVd5TmQmTsQTDI84hAtQLIxuXIloxEwo1Al4XGAE32BY0-Sol4twGogtSkgYxYZo8QVo4kjo7vXvQ4kmMXRk4YIY4hHYsY4hYg-EZ0JgZgKYxAnE3k2MLwOYxNYUmg42VY+49QtwTY7Y1yNyVfC5dfA4-vLfdVYYU4hYi4ogK4hTG4laUAKiGiNE7mG4O4sIB4hgJ444twN4iZD4qfb45Ev45uQEx-E-UEr-ZQP-L8F-ME34502E5TBEgon482H7BBP7UKAHYSYHcSNAFAH-fyH0c0UVTXABQcJvBHTyDDHVbCfMv0X4Cuffaswss0WUKNLZYsh0IA9-a7ewQcb-bAVLBs-0IsniTLb6PYC+NGf6fQNGfYUbfQC+Q2ScvQQ2GczpC+S-Rc0g8kFcscjdEaDckabcsIC+fNOtf6E8wEDIWclrDdL5LgWUVgD0f6W8+8qQy81cjdU4xc04xYK88PUadqWoNgIsLgKaACqIIC-IdIX8i+FQjc-QPHEQD0XETHAw186CjdKiOCkYfHUAJCvcWYFCmiNC98g6LCKiIrRctoVwfcPQGiKi0AdC0igAKiwq2Jwrwv3CoqYtwr0EYtGmAFYoQtwuQqorAGIp3NIoAFJBL2KRLQBJKeKGKSLRotS4KhKOKCKqKtThLlKfpmdXI1LZL8KUL9K3IkLdKsIOCZLEK5KuC9BzKJLRoODpgsL1LbK3IdLHKfpZhrLhLjKqKCL7K+LvKXKRBXA3L-LQBZgPKHKjyN1mdWKUKjAaLQBWc9A4c9h2J+yTQCzBzi4T89w0gCEeA0YRAByrRWoQ0+yN5SCcqayAxi4qAiwAArCUP1QqowYqgQYytcuq0Vf6Z1Hs382q30Qsyq9iaq2pEa3Kq0K+UpfINyb6C+cCSCaCanEQFaqCRQYa8cC+SAIgVai0R8sK-aw68iHa4cC+MC5gWASARc6626i61kK60ocCgAUQ3OureqevpAvgADlWA-rWKAa-qZT6Qsqaryr15alSlgTFiOr9BiqSBjKJYSAaCoaakfZo0IapqMa5rlYz8Ea9AkaUbnkGpZYyq+rBz8a4098OZ3QvQMb+dQxVgRpi9PMvQoJmBwJ2BPQujmrWBLwASTR18mkDgMamyU4WZGlBx7M2aEjQYFV9RUiuSFxi8oD6wDTeiLM6xSQqaKrhlr8Ji0Q8aSllZ2DZsCQdb9MmbhkmrWryBxFjbXhTaYaCaIyfq0QdT9juiB8c9LoV8PI6BO8ixIUtaWZMslaUjfbDSeAJrkyOxUyBIoBAcRJ0AsAwd994xIEmE3BlMmMzEDsTojsM5rJbJs4yF2xCxQtllQAbI1T0hMTSEXEbNztj5a7tKGYXosI7sXoEwogqB5RAIDNKZ7tQsntZ0FbRRfYAQPQAAvLqcaAqITWdUswyPo9UIkJQCoaMfCxCY8PwbqSGRPDpHe9QNvMMdFeegMFxCdMPDewkOQcnHkPe-YA+ngRE5I1IzExPJu9udpcJS25rfQMXIBjIHkKe8oGez0BegKfhB7TbVelLSGwXBa4aeB83dBYMnWfLfQVLIsbqtyaB6+j++BxhJeXBydWgB+g+rUV+xYd+vnPyAXVBYXUMUB52iBlE66Yh2Bs1LNF1VzNIMkzNG4CgAET0PgNRRuNDGhjUZ+3e-cEw1gB+iYrIF0PIAoIoKCO4exDLBUOwcwkEVoDoLoVgFEfEPgYeHcXEZ2vPDZRPX+IvZ250eR+Iaxs+jkMG2UosORremxsBtwLiYIMwP4H8HRliCofRiRox5oEx8EboCxtELhowOEvQXGIk5UH04gEQcNdMIR6o52WtOwHgPJxwbx-QTwT49MRCZghM-hsRiR8sap0MCWMp7YT2jIY2dpsLaMvQNJrRqaxwTLYq3h8hLwWNKqgrWokp8phusIZk4yzata7rTJiWcprSTYcpi+sZkZQJRBmWU+VLYYtyeZDE3LHBtIVLcQQhy+2ehengM54eBBpLWdPp++o4R+zUTx5Cw8G54gDeqIvg3Ezx3cfcGkk4e085-mLE-mG-PEyh-Ef4txngZZhRyYd5g4XoQJhkaMSB2gXZqFnZO+45gUohxWJzQTPLK5mq-52gIhq+h5olnmJ+F5+5W7ZTPxp+7el+uYP5gQQFtEYFmx4y3QN4MAJisSJi52wZlSXjNQNMJ+EcpI6On+r8U0mV4BoYP0ukKFuG2F16eF0QFXRFtEZFre4VzVg4OO0V1wLIJiiYaVrVxYPVtVvqDV51z1iGRVr8EQK1z1msE1-104IadkCYOO01gN3oTF-YbFqIrhiA6exl6G8FAVFew5sVq9PQfs25sZpPVNn5SGQlKzMVT7RF1LEgXN5N-N-FelHiURxFGWd51LHoTLPN-lQttgLcNCQjX4ZZRFoaLl753lvERYEkAVo4KI9RjUTR8JkoPR6oBgGae4HvXY2qxQEt+Z8VoEXjIsDGWgOJsELoQlaEWEdgBEJ+JJ5cQlDxsN2xgkSHaHcsG9xvY2zwStgFz52h0Fip2wsMCdiQTe7lgJqdsAdkUJwZ24SJp4UQZd4oOgNd4t4lBgPRejLdqMc+-FuU32KGeiPZpxCejN-OqwBp5VHWEg1gWQRzWwc5N0SiBTHFjIAtRj9IYq8kzsFMMpUZFiYQYN6I0RuQM5LFaNZZMGuMKwM5huEg76J5qlpebrXfbh0GKJUhW9RWYkfQtAqpRiBY4yrCJitTrmNaliqQRUrD3ZpdElmq-8TLEdMdalowVLTvAxtB9j3Drj-ZniW8MsZtmqwz9ExQNBlTmGfzomYkZz-g8t6zqt+5m8dRTlr9txuhvl-YAhz9joOsGO3oiLxYja5adThQcRDhjQpL9D4YBN3Mu5mBgMU5HdRt8qI5mq9gGL6r0p-PGuihhLwDr59Ft6FLv4gD1IIV3qEV-rkri16pWvG8XqcE+CTp3FzDpTpN2LtgF6TtCt4ZtyUZ5NqkPumEQe3IftrryQHrnlxRgiiFsIXGMgKDaCDoMyAeoegps1opmZgWR73IX9pkzxuO4NyIVGj7wCSsSdgNoYWhvjk4G1sb0H9IG7r0O7tsReQHpwaErFxCBNW7sEMycpyN1wXocz6tu+moo+qTjHXZkn8jvkvGW+8JCj5Nyuyn2U7OtbxnjITwQlln2nqn7O6rMrWdOnlbkuxDfn7nqwYbUrYXmWAX1r8XqjGLTsOLIXg57GbreMDt9FUnoYdn+n9X35Lnpn0teBjr-Xtnqr6+uB7+XpI+ZXyyVXkjgT0tkXrXs3vhh3x6B3oTlswjlX0X4sZzjtVnwQl3gMSzk39IcT9Zc8OrzX033Z2ryNYlsPv9+MFpPnmWND6XkhgpOLGmvZ5ZO3-D1pGPoP3ZyTwP5PqwZl1lJPtwbXwXilkmcvtwOw3HcBPCAiYiAGG4VgKi204PusjmF6JdvXouxL-xn50PVwZTdt8JId3ri+6prgCGeiABKCEkeidmof3qFhhVH6XQCIoyIgdfsgAw5Q3oNiFjpcoOkOsO8QHolmS-rYkbm4sELt4Ve4X4ZCkbiYqHgitFhQHZnYF5jL9bQvANfhv1PgpwT+S-YqKAJ3x1peQeiYRh-GTzmBComTcARYj1B-oZG+gDUpgJ2JYRsBj5XAbSUpjECI2axR4gqndKuAhokCYfvYBQS78sI+-AwgQLCLc4L+mrVfMHSaq397+KUTVlkAYG9QvmeQTVsKxf4dA3+PbD-v1FFZ8cYBK-Ycm5DILP9lBoAmNnSGASoD0UrJH6MQP+gI9ZBaA0VNoNOBxtWQIgrfgCE8ahNJByFf-jKwsEDMBmUEd-pDEyaIRMBOLX-rQOGDPlbY5YLCFkA8FyC1AogewuwCdKxt3mQ0EwL8H7DZoQBDwKqj5DeJ1pxkCqaoG5GUIw99gTQffCYGZSNgbwJIe1AUOGBFC0MrOEkHmBzpaBIgAAcnAD3AuAkERQE3FKEmBmh4+VkEUIeJVDPWRQ1eBciLBoQeA40U0CIDRyZthh+gGoS9nPL2A0cCwjIEsNr43E606w04JsNcBxhtkgpUWGsN2GgB9hWw+imcMKGRhIgLYIfhSGmGbNMYcOLnDD0GHXCXwRQqAaAGIDMCuhbkXfJ8LcCjD+4-w5gIRCqB+BIR7AQ5JUPeH6QehN4VnCsNRZH8OACqAAW8IREfQkRPAFEcU3sD3CJhFICWH8IxHbVnh9gGEXCLlj9DFhNLIZimA1w0jMsZI9EckIAH0jgG+w8kZyMyzGw+RmI7EVUP2HuYJYNIhFOCWZFpgaRIogkB8OBEDDJqcrDWMmG+BwDFqtMZoWqOaEiBmhTwPUaAGaFPojRxoqCEaOaFFgPQlowiBaCiDNCucoI95OCLVGdE6U3oKIAVF37wivhymb6DqJMAkgqIJIL0cgTNHDCLhwwcETSL1oMB1RaKJYs1ijFDBwRBEYgJ6O9E3gzYAbRUUqLpBFDUs6YwQCOW1HFjLRKkAgNbBuCWjjQ0MTWFUEtHEomxZaLgI6P6GFjaWaEYCqWIOjNCkhRYCsfqC+SARLRKccgKEzbH6jYgfqCsSnHjFtinREPM4Z2KmocBKAAcQCL2LbDND1x8oFOJaO0iWjWA7Y4cM6OujgjvgSYFONYGZGZjkCNreYTyP9HairxzZKiMWJDFhiFUEYrVimIyAxioRowDcSnCTHOt-x6QQCbCP8DMiUe3I8CQKHzH0hzxoMNMXeNDFZjHx6w-YTwg9ATC1Yv4PwMWPvEKpfRZ4l4PQLW7ESMJyBMKqKImLtQ8Jz8QiR-TLHMivxWY38QcAgnDhqJ348ZsqNB6uigx7otNiROzF0ijA+woYUhJOBijKYjE-CRrR34WpJaN9dCfxLjryjFgeY2Sa8BQmihLxrYARmRPoloYAxCqZPKQAYBcTIxgyNCRmJok+i6JCE04OCIHHiStJ8E5MYhL0logDJ5Qdyd2M8mmTcxyA3nA+SUkZd9MHkpyQoKfHkTCms8HOrFP4kuScRaIRScxN1oBiBxHE8MelJuGg9UpWYwqf5OXFGBhJ8Y0SZ2zilaScxDI1Jqhz8mNSXsWUgibrSgl+ABxcEv0TJJancT6yFI5gJgKmFH8IBCUjKXoCFEAjD+x-bydcP2HHNWwmWIyVZOVTaS-xiIggGUKmGEi0R-wrEQtJGHKZLJZAY6UqN0kDTFgPdSroS156S8GuyDIZi1yz5nZrerzJtlFzXGbceshCMZvZjZbe8moA7SmHPzO7n16G5XQbpfyzCjdR2aIZYIiDWA9AnaWrEHsAwxDiJ2QOIKGcA3aB0QGID0tskQEf4BtRwZXT4eDxak4z5uBwO9pfwgYHgfInKGJKzNYkR4OZRmLxOzIkbADYBaQ+0EAP+HVBIi+Q66TpOwDgjRpAYo8fqMrHViyAto+0YeJiBNjSgtkkEdgGaFcB5xJIKceaKICqybJ+oxxHkEdGbTgG3ApUQAAY6ZBIBCM1kdmvBnZYQKlEAA","body":"function analyze_application(component) {\n    const ffun = analyze(function_expression(component));\n    const afuns = map(analyze, arg_expressions(component));\n    return (env, succeed, fail) =>\n             ffun(env,\n                  (fun, fail2) =>\n                    get_args(afuns, \n                             env,\n                             (args, fail3) =>\n                               execute_application(fun,\n                                                   args, \n                                                   succeed,\n                                                   fail3),\n                             fail2),\n                  fail); \n} "}]},{"tag":"TEXT","id":"#p28","child":[{"body":"\n\tIn ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"get_args"},{"body":",\n\tnotice how walking down the list of\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"afun"},{"body":"\n\texecution functions\n\tand constructing the resulting list of\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"args"},{"body":"\n\tis accomplished by calling each\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"afun"},{"body":"\n\tin the list with a success continuation that recursively calls\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"get_args"},{"body":".\n      \n    Each of these recursive calls to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"get_args"},{"body":"  \n    has a success continuation whose value is the\n    \n\tnew list resulting from using\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pair"},{"body":"\n\tto adjoin the newly obtained argument\n\tto the list of accumulated arguments:\n      ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nfunction get_args(afuns, env, succeed, fail) {      \n    return is_null(afuns)\n           ? succeed(null, fail)\n           : head(afuns)(env,\n                         // success continuation for this $\\texttt{afun}$\n                         (arg, fail2) =>\n                           get_args(tail(afuns),\n                                    env,\n                                    // success continuation for\n                                    // recursive call to $\\texttt{get\\char`_args}$\n                                    (args, fail3) =>\n                                      succeed(pair(arg, args),\n                                              fail3),\n                                    fail2),\n                         fail);\n}\n      "}]},{"tag":"TEXT","id":"#p29","child":[{"body":"\n    The actual\n    function\n    application, which is performed by\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"execute_application"},{"body":",\n        \n    is accomplished in the same way as for the ordinary evaluator, except for\n    the need to manage the continuations.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":12,"eval":true,"prependLength":660,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABJ93oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWIx3aumtUG0An3F0Mvn2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTquWsnTmoGoWtFSWs6u0ES10IGmGxMItzvSOrBROr5DOqLAur+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjzBqms6v6r5EFJf1kEmv2vwDhq0lAFEwsSIDBkIDcX5rqE0Es1AAABIAAdaoCsCgRWxwWQAoKW-a7QEyJTKG9QQGGGisuWd0aXbYTW4iFcy1H-Dqma+IE26TVmwGfa1wJVLkSa3m2arGwGDGzmLNbMbwSvAWnBYWggUW7OPBWHaWuW7rJWlWtWs3LGqPNwUfHfQ2DfFDJgsCtoDzUgUmo-KhUo+oIBfw03MVTlevfwn3JVFOo+FIKmpC1OqVBvdOzMAukQT+BShmdMZurOoQ1wRO-mz6lu6LB0368qiUcBeOhmio43FuhwZ7W9QU4sgslQM7a-TMae8PDwruwavGkanmW67UVRAld3UlXeufHLd61oAlNYb60lYe7YE+o2m6+K91cetRF2y2t2+a54jHK+0gWqqSoXZfbW3W549XS1WfTgo2zA34FfEGis1vd++IBe0su2l+sVAoT28mOOnGwC7elVUg4ysavum8o+kgwMSLTg8+twS+6+6FXBjW-Bz5dSENJ+6NWB1+pm12yGuOvW4OH+iyMG-+6BoBgkjdUVfAT43gT4h21wAlXkNQMsaLNaiXTa6TWXaR7i-VFg1s8BlRmXRfIRrRuBlMThgBjBjRkywU0RtwcRgQKRjRi1HRnLSBvPdR+x0VORo28wVxtx4OQxnxoWT6d2kyth-x1oAoVB0VdBqSrB6fcaW+i8mOdOaRO65yi+z6-QGh2+njRJi6qQTOf1QeVhj6m8sgTJuhzuJJi8qu+uYG4p-oaFMpkq8q7JtOXJnuGoSxAea2Nhz6N+iG1m1q0VDJ3+gRqHHmy2m0Ih6gAO4GUWpQOEUCSWoLBM1QApiKsVfAVGQlLkS4XwWW+WxWigRwTOGWsgSwEcAAAyNtVv-szk8eEZ4ctWnF3UsByjud0wds5VKZGd-XBpZuEYdqVVkBED6f+fdrbusekJ9o8CmcFsDrmYWemfkCyEr3yYeSUDmhaWiZauwcVC11VGrVFjBiTTxSyWRGqYXk7Ge1kAao+VwRzg1tuTorMeDjzpZaFgdLb04gJaxmJmJfZdhopoXgVmURSBJefrNo-CVX7D5dSXdWe2FHvomUlm7TztxehjQkcXwZWqRz0xTE5ff2eNGE+K1bIdUG+IlHANxficUUIYJRamiyERETEWpTSZvLMxDqeq5cAhoEJZPtClGjYYJVNajFUCeo1fVBDftBWo9YOyDc+q5Eacuu0EDZctBatoGcec5kTZGYVroqMuVljdy1ACjdLOGkOqks4a8ahxidczidwZ+jxBFd1hqfdQnAJSYCTb+u0HlmYe6bTY4YQczbOIx07Z+bWAFaOKEfBazf1RMc40Nu41+F72zA9uxdOtiYVGUDkjeVCmBazrlz+Yze1qvkWhTUnvqH3YYEld92Zqtu0DZZPe7UzCvc-j-o0fGemsmf9qFtmayKsEkHDoOajpEBufMbeRQdndbO3e7jjVCnTFfYhYrNGdCaPE-YXm-a0zhb-e8bBXwGnW8FtAHjFrwQsE+32cjqOe3dOfOaYCud3bA9Q9aA1rg9ZoRig9Q5Mc2xY-kGIs-knf8axoRgE5rdXaQ4Zlrdq3ia8txTbfuv7q7eaditNhYd2BfoJVfcHtDNvuIsfvFaKbJcZt+bvY-uhpHeOpBZQ4tTDMg-M7Nxg93Y1pburZ8as-sZ4+GiE8GdCcrEHGrRVT9W8ps9w-sd3Zc6Y+ZyHZC40a85E6FnBYE6wdaTraKobccrtc+u+YYC06ih0+hW5HSsyow-7cM-TdM7ZpAZ9wgkrWQWSAVt0Ayqyuzqh0Nzzoa6K5Ehve-21pMpC6VRPMa4w7sHfYi8iqi9G4Zgsbs4m-Jhq5RG63TUG86+7rBV7uDkcziTq4GGnpCY-AKGtfKdJfPekG6uSf3upYbdO6peDmlewU1VZQ7VoaaZsBpge6Flu+7m5Gu6Fk5Wk6+7e85g+5k7lZkQu+e+dV5SsTzm7QMXJSZVk9B8e6ye1Xh5gkxWB6h+fph7tm9laedgB4Zl+4bYqYuu+8B8-ABp6mCsx8R5+6e8uuZmur7YJ-Jg+4pcKd2DB4Z-Z+iiFZPlITPmtmx-Fg9bYRZ4-CJ-B9teh5u8-G1gF7fnF9vfifl9Fdbdp-J4qEphJlmixaR7oeRhkDRj4uxhVdl5ldBhB85-1-B5PrJ4ZiB4YcV5l7p+k6d-V+t-e5ezey6VIDeBIBoHJ18A5CcIuOINvqTnsucnmfx81kHf6ZPbQyPBcqydmjK64Zxc3aRiNXoF5GrTrAsX0GrSguj9+DPRHFnghA3TRwkBICL6ixR0PRmBE5Ty0pGxVCopSBE9MZUm627nUF7lAgHgJOgfVoJKQdUEGrwVjDz4ZFCkL+L4nHvCi1z7+Dn+izVbmjJunl4x8FWBToX5GCOCCXpokAIHj0P8SuP6aNP8M+v+CfpioKUAr1oMM9L+dj8kr9GGr8Z0v8b4KGb6uNW+ZmdvgWy76uN8A7-dQHextCuMe+W3fvoPwsIiNouq-fPgTGizcchGaAufhE1bKqxd+uTFOqMGv7KQEB7TPfsgN26Woomq5SAdyBj7QCsavtOAePwQollVA6jPAbhjCY4gLEg-FUCnR9yH92WU3DYqA1FQtFhwOUUYPgH4EdM6g3vNxBQUiYv1PoHgAeFKjZCz8EU3YGvDQjyYV8ag0WUHDN2Dgy17KHgWuEEG2D6BT2ZghmBYMM7bp9A5uRyg4CVQABycAKBHoCLJVAbQawR4E8E4ZVyFgqgg4P8YWCWICcLkDUG0BQhWA5gddJENaBODjuRueoG2lSHkx0hEvGLKRxyGio8hR4aVkrA-yZhshOQkofkMeJFCwUNQ0oS8FiHxDEh69DsHWgPSjdwh9QjRhYOX4ls6+RglQBv1iy9Cjw0Qw2J-xsDk43E8QWYUwDDj2CIuJQqwUQBsHaBt0F7bQKQGmFlkuh3QuxEEO2BbCT8xudEAwOCCZhdhwwiAm2AWFLCuwoQtwCUJry+sgMDw6LNcKGFaCyyzwnxiUJuG-Dos6YIEbPD+GRDVhD6cEJmAeHehe87wtQA8IOGtkeh4wgchYPNJKBDAtodftmR0CeDhI+gTweYE8FB0mAJI0AJ4NRiUiqRFiSkZ4K5DsgGR5OKoJYE8EHpJhe0aYXkw8A4i8eKofQJYFqCV9lhfQlysKEJF8iCCQokUUoFpFmDGhQsHkQ8NYrYi7cuA5UvYyVGcweRAfUgHk2FGjYTKKIgEYUHREYjUyn1fUdl3xHaBPBNohkf0CIADgTADI6sGqC0huIGRDyH0cOBtAcjQhmIz6poNGKKNzwng0MU6K8AOwRIDI+8JQF9r0AGRZwEmk6PvDYjkxnI6LkUODE3kRw1AIcCJHDHghPBBYoFPeAZFBYGRsgQMdxS5HjQeRtoRIPeBRDvDDRcoixlYyiESiIxzYhwgQRtEyijRs8BUT2ItQqi5hLHQsfeH45McdRDMScYsIfbvDW6-w0JmiItFm4GxCoPUe2NlHGixRKw7fvIkaJxCNIPWFcQaIPGzwjxlonOiCEco2iOxo2LURNwXEcszxJES8ZKKHE3j5Rb4sVB+NXLPj-xgE7cTmKPA8iiRGoruP+JNFMQ0hI+LcRaihG4wvxF4lik2Lwovd9xI47YIhNQnmiUJUOHcc8CbEpA0EXY3Mb2NLGzxeMRNMcQ4OAlQSjBbY68fhJMrgS3GLE1oDyNDEvjRRponicRJIlESII-EmoFyEEkESk+iok8eNFeDshzxtFVZAJP-F3jUR9MT6I5XUn4TuJqHXiR+CUkqS82qySUaGOHFyimJxQyCa0D0lyiDJREiLtBL5GwTKm8ErsCiJKEFBMWYk1wGhJBAmTvxWEtiaqNDFrjtRok-ybZIklsTD+CQuvov27EzdARPw8EdFkP7rj6hrwz6vRKiykoKJDEylsJPHFuhjhCQs4fUDBGT9SphklyvlOykWjNxMUsFClVqy+cyA-nCHv6jrCo0wuJnDPtDX4zH5eRd5diroRcLPYTGQFMaemWtKTT06u7cThTBarC8YMPpPqfoXWb5DJohGfQthQtSqT6KawR3G-EmhIYysRFOyR+DC43TwUNGU6Y-idCeFJ2KbK9D9HaoD9bOGxfaiYwNpNtuMLUT6bgh1DRdOUGmC8tpnenZQQZA-Lrq7kGEDgOBk6aLglxfxx1Ccr2YnKjVGB+8A+QfYWONCQRGJCCo6PztUB6neVI+6ya6LTNWoYYGZzGOmYzPFoz81++VYgNP2mFZF0cpg1qeYOwA8iEpko6saSOdGuiKALItkVWOsA+itwNkj8BYM8H0AMx+gZMaSPpGkixZVIjcAGMIkRdAB4wgAAwrTLUa7NxhbPNnlkS4QAA","body":"function execute_application(fun, args, succeed, fail) {\n    return is_primitive_function(fun)\n           ? succeed(apply_primitive_function(fun, args),\n                     fail)\n           : is_compound_function(fun) \n           ? function_body(fun)(\n                 extend_environment(function_parameters(fun),\n                                    args,\n                                    function_environment(fun)),\n                 (body_result, fail2) => \n                   succeed(is_return_value(body_result) \n                           ? return_value_content(body_result)\n                           : undefined,\n                           fail2),\n                 fail)\n           : error(fun, \"unknown function type - execute_application\");\n} "}]},{"tag":"SUBHEADING","id":"#h8","child":[{"body":"Evaluating ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" expressions","tag":"#text"}]},{"tag":"TEXT","id":"#p30","child":[{"body":"\n    The ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":"syntactic\n    form is the key element in the nondeterministic language.  Here we see the\n    essence of the interpretation process and the reason for keeping track of\n    the continuations.  The execution\n    function\n    for ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" defines a loop\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"try_next"},{"body":"\n    that cycles through the execution\n    functions\n    for all the possible values of the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":"\n    expression.  Each execution\n    function\n    is called with a\n    \n    failure continuation that will try the next one.  When\n    there are no more alternatives to try, the entire\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" expression fails.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":13,"eval":true,"prependLength":663,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABJ93oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWIx3aumtUG0An3F0Mvn2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTquWsnTmoGoWtFSWs6u0ES10IGmGxMItzvSOrBROr5DOqLAur+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjzBqms6v6r5EFJf1kEmv2vwDhq0lAFEwsSIDBkIDcX5rqE0Es1AAABIAAdaoCsCgRWxwWQAoKW-a7QEyJTKG9QQGGGisuWd0aXbYTW4iFcy1H-Dqma+IE26TVmwGfa1wJVLkSa3m2arGwGDGzmLNbMbwSvAWnBYWggUW7OPBWHaWuW7rJWlWtWs3LGqPNwUfHfQ2DfFDJgsCtoDzUgUmo-KhUo+oIBfw03MVTlevfwn3JVFOo+FIKmpC1OqVBvdOzMAukQT+BShmdMZurOoQ1wRO-mz6lu6LB0368qiUcBeOhmio43FuhwZ7W9QU4sgslQM7a-TMae8PDwruwavGkanmW67UVRAld3UlXeufHLd61oAlNYb60lYe7YE+o2m6+K91cetRF2y2t2+a54jHK+0gWqqSoXZfbW3W549XS1WfTgo2zA34FfEGis1vd++IBe0su2l+sVAoT28mOOnGwC7elVUg4ysavum8o+kgwMSLTg8+twS+6+6FXBjW-Bz5dSENJ+6NWB1+pm12yGuOvW4OH+iyMG-+6BoBgkjdUVfAT43gT4h21wAlXkNQMsaLNaiXTa6TWXaR7i-VFg1s8BlRmXRfIRrRuBlMThgBjBjRkywU0RtwcRgQKRjRi1HRnLSBvPdR+x0VORo28wVxtx4OQxnxoWT6d2kyth-x1oAoVB0VdBqSrB6fcaW+i8mOdOaRO65yi+z6-QGh2+njRJi6qQTOf1QeVhj6m8sgTJuhzuJJi8qu+uYG4p-oaFMpkq8q7JtOXJnuGoSxAea2Nhz6N+iG1m1q0VDJ3+gRqHHmy2m0Ih6gAO4GUWpQOEUCSWoLBM1QApiKsVfAVGQlLkS4XwWW+WxWigRwTOGWsgSwEcAAAyNtVv-szk8eEZ4ctWnF3UsByjud0wds5VKZGd-XBpZuEYdqVVkBED6f+fdrbusekJ9o8CmcFsDrmYWemfkCyEr3yYeSUDmhaWiZauwcVC11VGrVFjBiTTxSyWRGqYXk7Ge1kAao+VwRzg1tuTorMeDjzpZaFgdLb04gJaxmJmJfZdhopoXgVmURSBJefrNo-CVX7D5dSXdWe2FHvomUlm7TztxehjQkcXwZWqRz0xTE5ff2eNGE+K1bIdUG+IlHANxficUUIYJRamiyERETEWpTSZvLMxDqeq5cAhoEJZPtClGjYYJVNajFUCeo1fVBDftBWo9YOyDc+q5Eacuu0EDZctBatoGcec5kTZGYVroqMuVljdy1ACjdLOGkOqks4a8ahxidczidwZ+jxBFd1hqfdQnAJSYCTb+u0HlmYe6bTY4YQczbOIx07Z+bWAFaOKEfBazf1RMc40Nu41+F72zA9uxdOtiYVGUDkjeVCmBazrlz+Yze1qvkWhTUnvqH3YYEld92Zqtu0DZZPe7UzCvc-j-o0fGemsmf9qFtmayKsEkHDoOajpEBufMbeRQdndbO3e7jjVCnTFfYhYrNGdCaPE-YXm-a0zhb-e8bBXwGnW8FtAHjFrwQsE+32cjqOe3dOfOaYCud3bA9Q9aA1rg9ZoRig9Q5Mc2xY-kGIs-knf8axoRgE5rdXaQ4Zlrdq0rEHGrRVT9W8rDL46PY-uhv42PzybYu0NAp0mexMaAo07vPYt0NRt3fE4phau7QA1CGfR9LrBcPWY-BLoIyvTDLsGwotVoqAyorfkmiQzKyItw+Dl3ZE8tSeV0oY30KQ5TavR+navUBGBna-rNxMYNqbe4xali9wR1EC-Nw0wvO02i+yky-i5vYrKVSQaapy-BcnbjsJ1e2J1RtGFIDeBIBoHJ3wz2iQSMUINHRk+qGdV5SGTraKoba8txTbfuv7q7eaditNhYd2BfoJVfcHtDNvuIsfvFaKbJcZt+bvZU7ZpHeOpBZQ4tUU4ecO7Nxg93Y1pburZ8ZO-sZ4+GiE8GdCek7IFk4G-9Ts7Apy+4uC4c6Y9hqHb+9XJe5C85mq-XextaWG-OqacKbupcoMkqudlZQ7VoYR8qEmDR7zks+wU1XR6Fk5XiZpiJ85mlekEcvJ4ZhJ9G+5CpeDkp6+4U5p-Jjp6x7G7lZkXx+NX6WSWZUZ+J8x+Te1SZTBhkDRi56sXtV54qYuqF85g58uoSdadx-laZ8-ABp6mCpl41+F-ie18fsV4ZmZ4pcR-3upYbfN+iiFZPlITPmtl59tbx4x5tY9bYTZ6lc-G1gd7fi99vfid99FdbZ5814qEphJlmixbd7oeRkl6qdkimid-D+kBPpN-Z5F-xvT4D6DwcoYf99d4N9G4L9D92Dq7ey6Wa9a-a8VHZCcIuOINvqTnsucnmfV59TRuU64fmqsdsW26ydmnTf26sNLvoF5GrTrAsX0GrSgrb9+DPRHFnghA3TRwkBIBn6ixR0PRmBE5Ty0pGxVG8-JHVqEeSAVu7ni46dAgHgJOgfVoJIq7LOtbwVjAn4ZFCmn9n4nHvCi3H7+A-7RY1Wc0MmtPF4w+BVgKdL-iMCOBBJ6aEgAgPHmgGJVYBTReAdt1QHBN6YVBJQBXloID9uQ7feoH5GX6jBV+jOZAdvwKC79XG+-MzIfwLYpAIergfAPPzqB3sbQrjUxipG6yX9e4N-FrJYxy7-9J+BMaLNxyEYiCP+ETVsqrHAG5MU6owVAcpHP47sr+EAiwjIItRRNVyrAwgb8G1q+0uBj-BCiWVUDqMtBvdXuhYn4EqgU6PuaAeywsYgN9qLRYcDlFGD4AbB1-dQC9j7QUFImL9T6B4AHhSo2Q7-BFN2Brw0I8mS-GoNFlBxA8xUMteyh4FrhBBtg+gU9kkODgpDtu26fQObkcoOAlUAAcnACgR6AiyVQG0HSEeBShOGVcikKoI5CmOKQliAnC5A1BtAUIVgOYHXStDyYeQ89ifmNxtpBhQsYYY5xiykcJhFqKYUeGlZKwP8mYcYXMNcALDphjxdYckMFhKp0QhA4IL0PXodg60B6JIc0J2FuMUhv-EthvziEqAgBsWK4UMPsokCbA5ONxPEE+FMAw42QoHgsLSFEAMh2gbdBe20CkB3hZZc4RcLsR1DtgYI0YfUAOFdDggmYSEQ8IgJtgfhfwrsI0LcALCa8vrIDDiOizoj7hYQ5-qhwWEYjKR0WdMLSNnhUiJhgIh9OCEzA4jvQveYkWoBxEwjWylwl4dxRSHmklAhgW0IAOzI6BShwkfQKUPMClCg6TAeUaAFKGowVRqoixCqNKFch2Q2o8nFUEsClCD07Qw2O8I05ii7cFcPJpYFqDL9-hGjVkc2GFAyiPA+gAgvoFtGjYNRgwzYcHHNE4jWKloiUZEOVL2M-RQsc0a11IA2i7R2wJiG0MKBCjhRqZT6tGIYCKNzwpQ9MdqP6BEABwJgbUdWDVBaQ3E2oh5OWOHA2hjRjQkUZ9VCGjFMx4IUoQ2NzFeAHYIkbUfeEoC+16A2os4CTVzH3gxRfYk0aD3WF1ibyI4agEOBEhNjpR04oFPeG1FBZtRsgGsSmIgjmjbQiQe8CiGJGxjRsFjPvj4ydEnJmxO4hwgQXTEeivRs8H0f4wjGcwAxXwljjOPvD8dExFqF8b8IfbEjW6+I6kUmOTEDlTRe0KMQeM9FxjjxcwhYVcnZBdCNIPWP8TGKgmjYHRTQ+mJ9EcrpjDxs8MMTkKfHBxXgCEkiMhJdE3i0J94gibsKB64SqJSgGiWbiIncVzRsoq0V3AYkmU8RrQBYS0JAnzCXKJExCZ53iDbi8KNgeiXePjH8jRUgogScxLeFxCUEvGImjBJ2Fnjzo0o2eKpIXgPiWRgeCCahOkkmUmJ1wwycpIbF4SZJgE08cBIUlQ4wJ40c0VZK4kYSvxXMeRI0REl5tVkrk6Se5IFFYSUwjlfyXGLMlASzcwksiSxRdENjbxcY-SXJPHFuAwpo2CKYJKB5sS3RHEypm5J4kEiR8mLBybxKEneSYpwlZSYGIbEATwx9kkqfqickKhzR0AnoRv2-4njCJOIRkTUNJTQDbJLwwkZ9R0lRZSU24lIGgmCZdS9Q8InoUiIhEUimRCY30S5RGkDSBJ8khqWKhSq1Z4m1PUllQ0+rfMMxpKIerg1eTch0qmVDDv2227D8e+0NFwfqggiVpkEqg3QBlSyrZ0ochuPOh9OukiRSuF+bWiZUC5KoTyn0jDm5we4TCq2KU4OM4LWLwywUr0lEN1nTSQzAZ3dMFL3WDiOY4k7046YimDgFBaQ6ya6OTNWoYYqZzGCmdTPFpv8AB+VYgK-3eFZF0ciQraclJantSdALo1cQqLzEFiKA+ow0SuOsDlitwSUj8CkNKH0Bhx+gPsQqK1EKiBZqojcNWOWlA8aByYgAAxmdLUa7NxkbMNnlkS4QAA","body":"function analyze_amb(component) {\n    const cfuns = map(analyze, amb_choices(component));\n    return (env, succeed, fail) => {\n               function try_next(choices) {\n                   return is_null(choices)\n                          ? fail()\n                          : head(choices)(env,\n                                          succeed,\n                                          () =>\n                                            try_next(tail(choices)));\n               }\n               return try_next(cfuns);\n           };\n} "}]},{"tag":"SUBHEADING","id":"#h9","child":[{"body":"Driver loop","tag":"#text"}]},{"tag":"TEXT","id":"#p31","child":[{"body":"\n    The driver loop for the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator is\n    complex, due to the mechanism that permits the user to retry in evaluating\n    a program.\n    The driver uses a\n    function\n    called\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"internal_loop"},{"body":",\n      \n    which takes as argument a\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":".\n      \n    The intent is that calling\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    should go on to the next untried alternative in the nondeterministic\n    evaluation.\n    The function\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"internal_loop"},{"body":"\n    either calls\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    in response to the user typing\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    at the driver loop, or else starts a new evaluation by calling\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":".  \n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p32","child":[{"body":"\n    The failure continuation for this call to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":"\n    informs the user that there are no more values and re-invokes the driver\n    loop.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p33","child":[{"body":"\n    The success continuation for the call to ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":"\n    is more subtle.  We print the obtained value and then\n    \n\treinvoke the internal loop\n      \n    with a\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"function\n    that will be able to try the next alternative.  This\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"next_alternative"},{"body":"function\n    is the second argument that was passed to the success continuation.\n    Ordinarily, we think of this second argument as a failure continuation to\n    be used if the current evaluation branch later fails.  In this case,\n    however, we have completed a successful evaluation, so we can invoke the\n    \"failure\" alternative branch in order to search for additional\n    successful evaluations.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":14,"eval":true,"prependLength":600,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABJ93oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWIx3aumtUG0An3F0Mvn2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTquWsnTmoGoWtFSWs6u0ES10IGmGxMItzvSOrBROr5DOqLAur+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjzBqms6v6r5EFJf1kEmv2vwDhq0lAFEwsSIDBkIDcX5rqE0Es1AAABIAAdaoCsCgRWxwWQAoKW-a7QEyJTKG9QQGGGisuWd0aXbYTW4iFcy1H-Dqma+IE26TVmwGfa1wJVLkSa3m2arGwGDGzmLNbMbwSvAWnBYWggUW7OPBWHaWuW7rJWlWtWs3LGqPNwUfHfQ2DfFDJgsCtoDzUgUmo-KhUo+oIBfw03MVTlevfwn3JVFOo+FIKmpC1OqVBvdOzMAukQT+BShmdMZurOoQ1wRO-mz6lu6LB0368qiUcBeOhmio43FuhwZ7W9QU4sgslQM7a-TMae8PDwruwavGkanmW67UVRAld3UlXeufHLd61oAlNYb60lYe7YE+o2m6+K91cetRF2y2t2+a54jHK+0gWqqSoXZfbW3W549XS1WfTgo2zA34FfEGis1vd++IBe0su2l+sVAoT28mOOnGwC7elVUg4ysavum8o+kgwMSLTg8+twS+6+6FXBjW-Bz5dSENJ+6NWB1+pm12yGuOvW4OH+iyMG-+6BoBgkjdUVfAT43gT4h21wAlXkNQMsaLNaiXTa6TWXaR7i-VFg1s8BlRmXRfIRrRuBlMThgBjBjRkywU0RtwcRgQKRjRi1HRnLSBvPdR+x0VORo28wVxtx4OQxnxoWT6d2kyth-x1oAoVB0VdBqSrB6fcaW+i8mOdOaRO65yi+z6-QGh2+njRJi6qQTOf1QeVhj6m8sgTJuhzuJJi8qu+uYG4p-oaFMpkq8q7JtOXJnuGoSxAea2Nhz6N+iG1m1q0VDJ3+gRqHHmy2m0Ih6gAO4GUWpQOEUCSWoLBM1QApiKsVfAVGQlLkS4XwWW+WxWigRwTOGWsgSwEcAAAyNtVv-szk8eEZ4ctWnF3UsByjud0wds5VKZGd-XBpZuEYdqVVkBED6f+fdrbusekJ9o8CmcFsDrmYWemfkCyEr3yYeSUDmhaWiZauwcVC11VGrVFjBiTTxSyWRGqYXk7Ge1kAao+VwRzg1tuTorMeDjzpZaFgdLb04gJaxmJmJfZdhopoXgVmURSBJefrNo-CVX7D5dSXdWe2FHvomUlm7TztxehjQkcXwZWqRz0xTE5ff2eNGE+K1bIdUG+IlHANxficUUIYJRamiyERETEWpTSZvLMxDqeq5cAhoEJZPtClGjYYJVNajFUCeo1fVBDftBWo9YOyDc+q5Eacuu0EDZctBatoGcec5kTZGYVroqMuVljdy1ACjdLOGkOqks4a8ahxidczidwZ+jxBFd1hqfdQnAJSYCTb+u0HlmYe6bTY4YQczbOIx07Z+bWAFaOKEfBazf1RMc40Nu41+F72zA9uxdOtiYVGUDkjeVCmBazrlz+Yze1qvkWhTUnvqH3YYEld92Zqtu0DZZPe7UzCvc-j-o0fGemsmf9qFtmayKsEkHDoOajpEBufMbeRQdndbO3e7jjVCnTFfYhYrNGdCaPE-YXm-a0zhb-e8bBXwGnW8FtAHjFrwQsE+32cjqOe3dOfOaYCud3bA9Q9aA1rg9ZoRig9Q5Mc2xY-kGIs-knf8axoRgE5rdXaQ4Zlrdq0rEHGrRVT9W8rDL46PY-uhv42PzybYu0NAp0mexMaAo07vPYt0NRt3fE4phau7QA1CGfR9LrBcPWY-BLoIyvTDLsGwotVoqAyorfkmiQzKyItw+Dl3ZE8tSeV0oY30KQ5TavR+navUBGBna-rNxMYNqbe4xali9wR1EC-Nw0wvO02i+yky-i5vYrKVSQaapy-BcnbjsJ1e2J1RtGFIDeBIBoHJ3wz2iQSMUINHRk+qGdV5SGTraKoba8txTbfuv7q7eaditNhYd2BfoJVfcHtDNvuIsfvFaKbJcZt+bvZU7ZpHeOpBZQ4tUU4ecO7Nxg93Y1pburZ8ZO-sZ4+GiE8GdCek7IFk4G-9Ts7Apy+4uC4c6Y9hqHb+9XJe5C85mq-XextaWG-OqaZVW5FOgJW+YYBW6ijW+hW5HSsyow-7e2-Tf25EZ9wgkrWQWSAVt0Ayqyuzqh0Nzzqp9x5ElK4v21pMsC6VRPOp4w7c4e6B6PCrdB9FQsYu-5-briQp50Cwm5+Z+7rBV7uDkcwl+610GnpCY-AKGtfKdJfPekG6uSf3upYbf16peDmlewU1VZQ7VoYR92vlbN4cqR6t6Fk5Xiccud85nN6+4U494Zld9G-k-G5kUs+kG1SZSD92CN4R61XJXD5gkxTG7lejRD4Sdaedl9-Jn99t4qYutN6Fi94Bp6mCqsTzij8uuZmur7Yz6lc-ApcKcj+t-ibr+iiFZPlITPmthT9tdL8b4be7-t-z8-G1nb7fmr9vfieH9FdbeD4d4qEphJlmixd7+j+RhkDRj4uxhVdn+kBPrz85iz-L937H6DwcoYdH575d5t-L9n2VmP9fxezey6Wa9a-a8VHZCcIuOINvqTnsucnmfT81iDt+mJ7NDEeBcpZNZohPLhji03bPAiAs8UxOoSdDVgDAwCGHJZnMBiVx0q+Q2Jin5zyAtUAZbAbQUNwwZbOFELAZQBZ6OcxgN2GDAQQAgSly6n4ESmVEIHiVUgPuTlEyS3IMDUoTA-VF7246UDOB+qbgQAG00cZHBWNjgIGZgRB+YRnKjmkYQ48B6AggemAUGc5RgAAXVGDMD8BbOBQWw17otFhwOUUYEQSsHWCbBtguwQcQwYoCQsMgsOijhlpKRGcag2QewOIFuCfKuLeATUB+jnAnBiCFwZZigqhCdAUQ8IfIG7AEoLE+gQllEOixJUuQBBf-n8BzgSASASQigAqhSqplPqvrCgHkI06oDosYwZyBkMRaV4ywBQ-IHhGvADxTEKdHAfol4w+BVgKdI4EEnppEN6miQ6tNFkCGmIPA5wIYXJCiERNXAcBC9toEmGKDQGrgMwY0QhBWCe0iLUWpME0J9xVAhBIgqjgoIa9qCleOYbkOGFElRgvQpov0NaCrCLB9gp4c8IcEO1Jh5QkLEoPcFSDJhXw-wS3hTA3Dgm9MKgkoAry0F7hkgVousKILQ4RwSLFSBTgTJ+l8KBw14frQuFTC80iCP4T8MxG4iZhR4P-r8DPQjhZ4EIDdHiLyFKDD0MwAVini0ojYVQ3nckIHnwDEi6gd7G0IHlMaIiFa3ceLh01AgDxieFZUYQZydAlCyhUQwAurzFSqxOhuTFOpLwFG9xhRLWOUZzCiYWp2R3ITIdrV9o8jRRZuB4TCJeHmirB4oP7pSE+ysA3EdQ-goSgIAKpvhjOX4X4OOGWpPoKgZoUELaGajo8hI3ur3QVFqiVQKdH3CLw2LLCwUpoywbCJUifYPur2FIMiLvAJxXAloikJ6P1TejfRrQ6-ISMoLdgfRVpAsdblmBAA","body":"const input_prompt = \"amb-evaluate input:\";\nconst output_prompt =  \"amb-evaluate value:\";\n\nfunction driver_loop(env) {\n    function internal_loop(retry) {\n        const input = user_read(input_prompt);\n        if (is_null(input)) {\n            display(\"evaluator terminated\");\n        } else if (input === \"retry\") {\n            return retry();\n        } else {\n            display(\"Starting a new problem\");\n            const program = parse(input);\n            const locals = scan_out_declarations(program);\n            const unassigneds = list_of_unassigned(locals);\n            const program_env = extend_environment(\n                                    locals, unassigneds, env);\n            return ambeval(\n                       program,  \n                       program_env,\n                       // ambeval success\n                       (val, next_alternative) => {\n                           user_print(output_prompt, val);\n                           return internal_loop(next_alternative);\n                       },\n                       // ambeval failure\n                       () => {\n                           display(\"There are no more values of\");\n                           display(input);\n                           return driver_loop(program_env);\n                       });\n        }\n    }\n    return internal_loop(() => {\n                             display(\"There is no current problem\");\n                             return driver_loop(env);\n                         });\n} "},{"body":"\n    The initial call to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"internal_loop"},{"body":"\n    uses a\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"function\n    that complains that there is no current problem and restarts the driver loop.\n    This is the behavior that will happen if the user types\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    when there is no evaluation in progress.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p34","child":[{"body":"\n\tWe start the driver loop as usual, by setting up the global environment\n\tand passing it as the enclosing environment for the first iteration of\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"driver_loop"},{"body":".\n\t","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":15,"eval":false,"body":"const the_global_environment = setup_environment();\ndriver_loop(the_global_environment);"}]},{"tag":"EXERCISE","title":"Exercise 4.48","id":"#ex-4.48","child":[{"body":"\n    Implement a new\n    syntactic\n    form ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ramb"},{"body":" that is like\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" except that it searches alternatives in a\n    random order, rather than from left to right.  Show how this can help with\n    Alyssa's problem in exercise ","tag":"#text"},{"tag":"REF","body":"4.47","href":"/sicpjs/4.3.2#ex-4.47"},{"body":".\n    ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.49","id":"#ex-4.49","child":[{"body":"\n\tChange the implementation of assignment so that it\n      \n    is not undone upon failure. For example, we can choose two distinct\n    elements from a list and count the number of trials required to make a\n    successful choice as follows:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":16,"eval":false,"body":"let count = 0;\n\nlet x = an_element_of(\"a\", \"b\", \"c\");\nlet y = an_element_of(\"a\", \"b\", \"c\");\ncount = count + 1;\nrequire(x !== y);\nlist(x, y, count);","output":"Starting a new problem\namb-evaluate value:\n[\"a\", [\"b\", [2, null]]]"},{"tag":"SNIPPET","latex":false,"id":17,"eval":false,"body":"retry","output":"amb-evaluate value:\n[\"a\", [\"c\", [3, null]]]"},{"body":"\n\tWhat values would have been displayed if we had used\n\tthe original meaning of assignment rather than\n\tpermanent assignment?\n      ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.50","id":"#ex-4.50","child":[{"body":"\n\tWe shall horribly abuse the syntax for conditional statements, by\n\timplementing a construct of the following form: \n\t","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nif (evaluation_succeeds_take) { $statement$ } else { $alternative$ }\n\t  "},{"body":"\n\tThe construct permits the user to catch the failure of a\n\tstatement. It evaluates the statement as usual and returns\n\tas usual if the evaluation succeeds. If the evaluation fails,\n\thowever, the given alternative statement \n\tis evaluated, as in the following example:\n\t","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":18,"eval":false,"body":"if (evaluation_succeeds_take) {\n    const x = an_element_of(list(1, 3, 5));\n    require(is_even(x));\n    x;\n} else {\n    \"all odd\";\n}","output":"Starting a new problem\namb-evaluate value:\n\"all odd\""},{"tag":"SNIPPET","latex":false,"id":19,"eval":false,"body":"if (evaluation_succeeds_take) {\n    const x = an_element_of(list(1, 3, 5, 8));\n    require(is_even(x));\n    x;\n} else {\n    \"all odd\";\n}","output":"Starting a new problem\namb-evaluate value:\n8"},{"body":"\n\tImplement this construct by extending the\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":"\n\tevaluator. Hint: The function \n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"is_amb"},{"body":" shows\n\thow to abuse the existing JavaScript syntax in order to implement\n\ta new syntactic form.\n      ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.51","id":"#ex-4.51","child":[{"body":"\n    With\n    \n\tthe new kind of assignment\n      \n    as described in exercise ","tag":"#text"},{"tag":"REF","body":"4.49","href":"/sicpjs/4.3.3#ex-4.49"},{"body":" and\n    \n\tthe construct\n\t","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nif (evaluation_succeeds_take) { $\\ldots$ } else { $\\ldots$ }\n      "},{"body":"\n    as in exercise ","tag":"#text"},{"tag":"REF","body":"4.50","href":"/sicpjs/4.3.3#ex-4.50"},{"body":", what will be the result of\n    evaluating\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":20,"eval":false,"body":"let pairs = null;      \nif (evaluation_succeeds_take) {\n    const p = prime_sum_pair(list(1, 3, 5, 8), list(20, 35, 110));\n    pairs = pair(p, pairs); // using permanent assignment\n    amb();\n} else {\n    pairs;\n}"}]},{"tag":"EXERCISE","title":"Exercise 4.52","id":"#ex-4.52","child":[{"body":"\n    If we had not realized that\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"require"},{"body":" could be\n    implemented as an ordinary\n    function\n    that uses ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":", to be defined by the user as\n    part of a nondeterministic program, we would have had to implement it\n    as a \n    syntactic\n    form. This would require syntax\n    functions","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":21,"eval":false,"body":"function is_require(component) {\n    return is_tagged_list(component, \"require\"); \n}\nfunction require_predicate(component) { return head(tail(component)); }"},{"body":"\n    and a new clause in the dispatch in ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze"},{"tag":"SNIPPET","latex":false,"id":22,"eval":false,"body":": is_require(component)\n? analyze_require(component)"},{"body":"\n    as well the\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze_require"},{"body":"\n    that handles ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"require"},{"body":"\n    expressions.  Complete the following definition of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze_require"},{"body":".\n      ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nfunction analyze_require(component) {\n    const pfun = analyze(require_predicate(component));\n    return (env, succeed, fail) =>\n             pfun(env,\n                  (pred_value, fail2) =>\n                    $\\langle{}$??$\\rangle$\n                    ? $\\langle{}$??$\\rangle$\n                    : succeed(\"ok\", fail2),\n                  fail);\n}\n      "}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-1","count":1,"href":"/sicpjs/4.3.3#footnote-link-1","child":[{"body":"We chose to\n    implement the lazy evaluator in\n    section ","tag":"#text"},{"tag":"REF","body":"4.2","href":"/sicpjs/4.2"},{"body":" as a modification of the\n    ordinary metacircular evaluator of\n    section ","tag":"#text"},{"tag":"REF","body":"4.1.1","href":"/sicpjs/4.1.1"},{"body":".  In contrast, we will\n    base the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator on the analyzing\n    evaluator of section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":", because\n    the execution\n    functions\n    in that evaluator provide a convenient framework for implementing\n    backtracking.","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-2","count":2,"href":"/sicpjs/4.3.3#footnote-link-2","child":[{"body":"With this treatment, \n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" is no longer a name with\n\tproper scoping.\tTo avoid confusion, we must\n\trefrain from declaring ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" as a\n\tname in our nondeterministic programs.","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-3","count":3,"href":"/sicpjs/4.3.3#footnote-link-3","child":[{"body":"We\n    \n\tdidn't worry about undoing declarations, since we assume that a\n\tname can't be used prior to the evaluation of its declaration,\n\t\n\tso its previous value doesn't matter.\n      ","tag":"#text"}]}]